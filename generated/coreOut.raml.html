<!DOCTYPE HTML><html><head><title>TAS core outgoing (TAS -&gt; app) API documentation</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="generator" content="https://github.com/kevinrenskers/raml2html 1.6.0"><link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"><link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/default.min.css"><script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"></script><script type="text/javascript" src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script><script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/highlight.min.js"></script><script type="text/javascript">
        $(document).ready(function() {
            $('.page-header pre code, .top-resource-description pre code').each(function(i, block) {
                hljs.highlightBlock(block);
            });

            $('[data-toggle]').click(function() {
                var selector = $(this).data('target') + ' pre code';
                $(selector).each(function(i, block) {
                    hljs.highlightBlock(block);
                });
            });
            
            
            // open modal on hashes like #_action_get
            $(window).bind('hashchange', function(e) {
                var anchor_id = document.location.hash.substr(1); //strip #
                var element = $('#' + anchor_id);

                // do we have such element + is it a modal?  --> show it
                if (element.length && element.hasClass('modal')) {
                    element.modal('show');
                }
            });

            // execute hashchange on first page load
            $(window).trigger('hashchange');
            
            // remove url fragment on modal hide
            $('.modal').on('hidden.bs.modal', function() {
                if(history && history.replaceState) { 
                    history.replaceState({}, '', '#');
                }
            });
        });
    </script><style>
        .hljs {
            background: transparent;
        }
        .parent {
            color: #999;
        }
        .list-group-item > .badge {
            float: none;
            margin-right: 6px;
        }
        .panel-title > .methods {
            float: right;
        }
        .badge {
            border-radius: 0;
            text-transform: uppercase;
            width: 70px;
            font-weight: normal;
            color: #f3f3f6;
            line-height: normal;
        }
        .badge_get {
            background-color: #63a8e2;
        }
        .badge_post {
            background-color: #6cbd7d;
        }
        .badge_put {
            background-color: #22bac4;
        }
        .badge_delete {
            background-color: #d26460;
        }
        .badge_patch {
            background-color: #ccc444;
        }
        .list-group, .panel-group {
            margin-bottom: 0;
        }
        .panel-group .panel+.panel-white {
            margin-top: 0;
        }
        .panel-group .panel-white {
            border-bottom: 1px solid #F5F5F5;
            border-radius: 0;
        }
        .panel-white:last-child {
            border-bottom-color: white;
            -webkit-box-shadow: none;
            box-shadow: none;
        }
        .panel-white .panel-heading {
            background: white;
        }
        .tab-pane ul {
            padding-left: 2em;
        }
        .tab-pane h2 {
            font-size: 1.2em;
            padding-bottom: 4px;
            border-bottom: 1px solid #ddd;
        }
        .tab-pane h3 {
            font-size: 1.1em;
        }
        .tab-content {
            border-left: 1px solid #ddd;
            border-right: 1px solid #ddd;
            border-bottom: 1px solid #ddd;
            padding: 10px;
        }
        #sidebar {
            margin-top: 30px;
            padding-right: 5px;
            overflow: auto;
            height: 90%;
        }
        .top-resource-description {
            border-bottom: 1px solid #ddd;
            background: #fcfcfc;
            padding: 15px 15px 0 15px;
            margin: -15px -15px 10px -15px;
        }
        .resource-description {
            border-bottom: 1px solid #fcfcfc;
            background: #fcfcfc;
            padding: 15px 15px 0 15px;
            margin: -15px -15px 10px -15px;
        }
        .resource-description p:last-child {
            margin: 0;
        }
        .list-group .badge {
            float: left;
        }
        .method_description {
            margin-left: 85px;
        }
        .method_description p:last-child {
            margin: 0;
        }
        .list-group-item {
            cursor: pointer;
        }
        .list-group-item:hover {
            background-color: #f5f5f5;
        }
    </style></head><body data-spy="scroll" data-target="#sidebar"><div class="container"><div class="row"><div class="col-md-9" role="main"><div class="page-header"><h1>TAS core outgoing (TAS -&gt; app) API documentation <small>version v1</small></h1><p>http://talentappstore.com/v1</p></div><div class="panel panel-default"><div class="panel-heading"><h3 id="_tenants" class="panel-title">/tenants</h3></div><div class="panel-body"><div class="panel-group"><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant_"><span class="parent">/tenants</span>/{tenant}</a> <span class="methods"><a href="#_tenants__tenant__post"><span class="badge badge_post">post</span></a> <a href="#_tenants__tenant__delete"><span class="badge badge_delete">delete</span></a></span></h4></div><div id="panel__tenants__tenant_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>A tenant is a customer within the multi-tenanted environment of Talent App Store. Currently all core API calls that your app makes to TAS are within the context of a single tenant.</p></div><div class="list-group"><div onclick="window.location.href = '#_tenants__tenant__post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Called by TAS to inform your app that a new tenant has arrived (i.e. has clicked install on the app). The app can assume the tenant is dormant. The app can perform internal housekeeping (e.g. inserting the new tenant into its customers table) but should wait until the startUp event before loading caches, producing or consuming APIs, accepting logins, etc.</p></div><div class="clearfix"></div></div><div onclick="window.location.href = '#_tenants__tenant__delete'" class="list-group-item"><span class="badge badge_delete">delete</span><div class="method_description"><p>Called by TAS to inform your app that an existing tenant has been deleted (i.e. has clicked uninstall on the app). The app can assume the tenant is dormant. The app has now been permanently disconnected by the tenant, and should make no more tenant API calls or core API calls on behalf of the tenant, and should perform or schedule its own cleanup, e.g. deleting tenant data.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_tenants__tenant__post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/tenants</span>/{tenant}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Called by TAS to inform your app that a new tenant has arrived (i.e. has clicked install on the app). The app can assume the tenant is dormant. The app can perform internal housekeeping (e.g. inserting the new tenant into its customers table) but should wait until the startUp event before loading caches, producing or consuming APIs, accepting logins, etc.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_tenants__tenant__post_request" data-toggle="tab">Request</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_tenants__tenant__post_request"><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string )</em></li></ul></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="_tenants__tenant__delete"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_delete">delete</span> <span class="parent">/tenants</span>/{tenant}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Called by TAS to inform your app that an existing tenant has been deleted (i.e. has clicked uninstall on the app). The app can assume the tenant is dormant. The app has now been permanently disconnected by the tenant, and should make no more tenant API calls or core API calls on behalf of the tenant, and should perform or schedule its own cleanup, e.g. deleting tenant data.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_tenants__tenant__delete_request" data-toggle="tab">Request</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_tenants__tenant__delete_request"><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string )</em></li></ul></div></div></div></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__halts"><span class="parent">/tenants/{tenant}</span>/halts</a> <span class="methods"><a href="#_tenants__tenant__halts_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel__tenants__tenant__halts" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#_tenants__tenant__halts_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Called by TAS to request your app to stop, i.e. stop producing or consuming APIs or accepting logins for this tenant. Your app should immediately (before responding) stop making tenant API calls. Once your app responds, TAS marks its state as <b>dormant</b>. While dormant, your app should consume no tenant APIs, and only these core APIs:</p><ul><li>GET /tenants/{tenant}/status</li></ul><p>Once the tenant&#39;s last installed app becomes dormant, TAS marks the tenant&#39;s status as <b>halted</b>.</p><p>See <a href="../doc/overview.html#Supporting_orchestration">Orchestration</a> for more details.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_tenants__tenant__halts_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/tenants/{tenant}</span>/halts</h4></div><div class="modal-body"><div class="alert alert-info"><p>Called by TAS to request your app to stop, i.e. stop producing or consuming APIs or accepting logins for this tenant. Your app should immediately (before responding) stop making tenant API calls. Once your app responds, TAS marks its state as <b>dormant</b>. While dormant, your app should consume no tenant APIs, and only these core APIs:</p><ul><li>GET /tenants/{tenant}/status</li></ul><p>Once the tenant&#39;s last installed app becomes dormant, TAS marks the tenant&#39;s status as <b>halted</b>.</p><p>See <a href="../doc/overview.html#Supporting_orchestration">Orchestration</a> for more details.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_tenants__tenant__halts_post_request" data-toggle="tab">Request</a></li><li><a href="#_tenants__tenant__halts_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_tenants__tenant__halts_post_request"><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string )</em></li></ul></div><div class="tab-pane" id="_tenants__tenant__halts_post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2></div></div></div></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__starts"><span class="parent">/tenants/{tenant}</span>/starts</a> <span class="methods"><a href="#_tenants__tenant__starts_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel__tenants__tenant__starts" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#_tenants__tenant__starts_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Called by TAS to notify your app that it should leave the <b>dormant</b> state and start up, i.e. start making core API calls and tenant API calls.</p><p>Normally while your app is dormant, it should not serve any incoming tenant API calls. However the restart phase, its possible that some other app that consumes APIs that your app produces might receive its start notification before your app. Therefore, when dormant, before rejecting the incoming tenant API call, your app should call GET /tenants/{tenant}/status, and treat a status of &#39;startingUp&#39; as being the same as if a start notification had been seen - i.e. perform startup processing and then produce the API normally. Your app should be wary of attempts by attacking apps to flood it with tenant API calls while the tenant is in the halted state.</p><p>In startup processing, your app should call GET /tenants/{tenant}/status to fetch the tenant&#39;s new security generation, and:</p><ul><li>apps that consume APIs should discard any cached OAuth tokens where the consumer sgen does not match the tenant&#39;s new sgen</li><li>apps that produce APIs should discard any cached OAuth tokens (i.e. cached to avoid re-checking) where the producer sgen does not match the tenant&#39;s new sgen</li></ul><p>See <a href="../doc/overview.html#Supporting_orchestration">Orchestration</a> for more details.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_tenants__tenant__starts_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/tenants/{tenant}</span>/starts</h4></div><div class="modal-body"><div class="alert alert-info"><p>Called by TAS to notify your app that it should leave the <b>dormant</b> state and start up, i.e. start making core API calls and tenant API calls.</p><p>Normally while your app is dormant, it should not serve any incoming tenant API calls. However the restart phase, its possible that some other app that consumes APIs that your app produces might receive its start notification before your app. Therefore, when dormant, before rejecting the incoming tenant API call, your app should call GET /tenants/{tenant}/status, and treat a status of &#39;startingUp&#39; as being the same as if a start notification had been seen - i.e. perform startup processing and then produce the API normally. Your app should be wary of attempts by attacking apps to flood it with tenant API calls while the tenant is in the halted state.</p><p>In startup processing, your app should call GET /tenants/{tenant}/status to fetch the tenant&#39;s new security generation, and:</p><ul><li>apps that consume APIs should discard any cached OAuth tokens where the consumer sgen does not match the tenant&#39;s new sgen</li><li>apps that produce APIs should discard any cached OAuth tokens (i.e. cached to avoid re-checking) where the producer sgen does not match the tenant&#39;s new sgen</li></ul><p>See <a href="../doc/overview.html#Supporting_orchestration">Orchestration</a> for more details.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_tenants__tenant__starts_post_request" data-toggle="tab">Request</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_tenants__tenant__starts_post_request"><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string )</em></li></ul></div></div></div></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__m_storeFrontMainPage"><span class="parent">/tenants/{tenant}</span>/m/storeFrontMainPage</a> <span class="methods"><a href="#_tenants__tenant__m_storeFrontMainPage_get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel__tenants__tenant__m_storeFrontMainPage" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#_tenants__tenant__m_storeFrontMainPage_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Only called on apps tagged with storeFront.</p><p>Called by TAS to ask for the main page of your storeFront app. TAS calls this on your app whenever the tenant clicks to uninstall a storeFront app, while using that same app.</p><p>When this happens, the browser needs to be redirected to one of the remaining (or new) storeFronts main pages. If there are multiple storeFronts remaining, TAS will pick one at random.</p><p>The main page is normally the first page a user sees after logging in, typically displaying the apps hero list.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_tenants__tenant__m_storeFrontMainPage_get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/tenants/{tenant}</span>/m/storeFrontMainPage</h4></div><div class="modal-body"><div class="alert alert-info"><p>Only called on apps tagged with storeFront.</p><p>Called by TAS to ask for the main page of your storeFront app. TAS calls this on your app whenever the tenant clicks to uninstall a storeFront app, while using that same app.</p><p>When this happens, the browser needs to be redirected to one of the remaining (or new) storeFronts main pages. If there are multiple storeFronts remaining, TAS will pick one at random.</p><p>The main page is normally the first page a user sees after logging in, typically displaying the apps hero list.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_tenants__tenant__m_storeFrontMainPage_get_request" data-toggle="tab">Request</a></li><li><a href="#_tenants__tenant__m_storeFrontMainPage_get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_tenants__tenant__m_storeFrontMainPage_get_request"><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string )</em></li></ul></div><div class="tab-pane" id="_tenants__tenant__m_storeFrontMainPage_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "additionalProperties": false,
    "description": "If your app is a storeFrontapp, you use this API to declare where you would prefer newly logged in users to be sent to. Sometime TAS will need to direct users to this page, e.g. when someone inside some other storeFront app clicks and unInstalls that same storeFront. That storeFront then becomes dead, and the user needs to be directed to one of the remaining storeFront apps, e.g. this one.", 
    "required": [
        "kind",
        "uri"
    ],
    "properties": {
        "kind": {
            "enum": [
                "storeFrontMainPage"
            ],
            "description": "always set to: storeFrontMainPage"
        },
        "uri": {
            "type": "string",
            "description": "your app&#x27;s main uri - i.e. the default place to send users on login"
        }
    }
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
   "kind": "storeFrontMainPage",
   "uri": "https://superstorefront.com/acme/main.html"
}</code></pre></div></div></div></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__logins__principalDeveloper___principalType___entityID___nameID_"><span class="parent">/tenants/{tenant}/logins/{principalDeveloper}/{principalType}/{entityID}</span>/{nameID}</a> <span class="methods"><a href="#_tenants__tenant__logins__principalDeveloper___principalType___entityID___nameID__post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel__tenants__tenant__logins__principalDeveloper___principalType___entityID___nameID_" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#_tenants__tenant__logins__principalDeveloper___principalType___entityID___nameID__post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p></p><p>Called by TAS to tell your loginListener app about someone logging in.</p><p></p><p></p><p>LoginListeners are special, highly privileged apps that can merge information about the logged in user into their session document, such as roles and entitlements.</p><p></p><p></p><p>Since your loginListener app cannot know all of the possible types of principal that might log in, it should return with status 200 immediately unless the type is one that the app understands.</p><p></p><p></p><p>A typical loginListener would be a legacy ATS system. On someone logging in, the app might:</p><p><ul></ul></p><p><li>examine the existing session data for an "auto-provisioning == true" attribute (possibly injected for all users logging in through a specific IdP, such as a support team&#39;s IdP) to determine whether to auto-provision or not</li></p><p><li>if auto-provisioning, next use other attributes (name, etc.) to make tenant API calls against the SCIM SoT server by making calls to GET /users/{}, POST /users, etc.</li></p><p></p><p></p><p>TAS will only call this API on apps that are declared to be authListeners. TAS will wait until all authListeners have responded with 200 before it passes the login through to the web app, so that any auto-provisioning type operations are complete by the time the user login hits the web site.</p><p></p><p></p><p>RAML (the tool used to create this documentation) does not allow currently allow describing the different parts of multipart/form-data, but for this endpoint your app will receive two parts - the raw SAML authentication assertion itself, and the derived samlSubject object (json).</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_tenants__tenant__logins__principalDeveloper___principalType___entityID___nameID__post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/tenants/{tenant}/logins/{principalDeveloper}/{principalType}/{entityID}</span>/{nameID}</h4></div><div class="modal-body"><div class="alert alert-info"><p></p><p>Called by TAS to tell your loginListener app about someone logging in.</p><p></p><p></p><p>LoginListeners are special, highly privileged apps that can merge information about the logged in user into their session document, such as roles and entitlements.</p><p></p><p></p><p>Since your loginListener app cannot know all of the possible types of principal that might log in, it should return with status 200 immediately unless the type is one that the app understands.</p><p></p><p></p><p>A typical loginListener would be a legacy ATS system. On someone logging in, the app might:</p><p><ul></ul></p><p><li>examine the existing session data for an "auto-provisioning == true" attribute (possibly injected for all users logging in through a specific IdP, such as a support team&#39;s IdP) to determine whether to auto-provision or not</li></p><p><li>if auto-provisioning, next use other attributes (name, etc.) to make tenant API calls against the SCIM SoT server by making calls to GET /users/{}, POST /users, etc.</li></p><p></p><p></p><p>TAS will only call this API on apps that are declared to be authListeners. TAS will wait until all authListeners have responded with 200 before it passes the login through to the web app, so that any auto-provisioning type operations are complete by the time the user login hits the web site.</p><p></p><p></p><p>RAML (the tool used to create this documentation) does not allow currently allow describing the different parts of multipart/form-data, but for this endpoint your app will receive two parts - the raw SAML authentication assertion itself, and the derived samlSubject object (json).</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_tenants__tenant__logins__principalDeveloper___principalType___entityID___nameID__post_request" data-toggle="tab">Request</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_tenants__tenant__logins__principalDeveloper___principalType___entityID___nameID__post_request"><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string )</em></li><li><strong>principalDeveloper</strong>: <em>required (string )</em></li><li><strong>principalType</strong>: <em>required (string )</em></li><li><strong>entityID</strong>: <em>required (string )</em></li><li><strong>nameID</strong>: <em>required (string )</em></li></ul><h3>Body</h3><p><strong>Type: multipart/form-data</strong></p></div></div></div></div></div></div></div></div></div></div></div><div class="col-md-3"><div id="sidebar" class="hidden-print affix" role="complementary"><ul class="nav nav-pills nav-stacked"><li><a href="#_tenants">/tenants</a></li></ul></div></div></div></div></body></html>