<!DOCTYPE HTML><html><head><title>TAS core outgoing (TAS -&gt; app) API documentation</title><meta http-equiv=X-UA-Compatible content="IE=edge"><meta http-equiv=Content-Type content="text/html; charset=utf-8"><meta name=generator content="https://github.com/kevinrenskers/raml2html 1.0.4"><link rel=stylesheet href=http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css><link rel=stylesheet href=http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/default.min.css><script type=text/javascript src=http://code.jquery.com/jquery-1.11.0.min.js></script><script type=text/javascript src=http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js></script><script type=text/javascript src=http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/highlight.min.js></script><script type=text/javascript>
        $(document).ready(function() {
            $('.page-header pre code, .top-resource-description pre code').each(function(i, block) {
                hljs.highlightBlock(block);
            });

            $('[data-toggle]').click(function() {
                var selector = $(this).data('target') + ' pre code';
                $(selector).each(function(i, block) {
                    hljs.highlightBlock(block);
                });
            });
        });
    </script><style>
        .hljs {
            background: transparent;
        }
        .parent {
            color: #999;
        }
        .list-group-item > .badge {
            float: none;
            margin-right: 6px;
        }
        .panel-title > .methods {
            float: right;
        }
        .badge {
            border-radius: 0;
            text-transform: uppercase;
            width: 70px;
            font-weight: normal;
            color: #f3f3f6;
            line-height: normal;
        }
        .badge_get {
            background-color: #63a8e2;
        }
        .badge_post {
            background-color: #6cbd7d;
        }
        .badge_put {
            background-color: #22bac4;
        }
        .badge_delete {
            background-color: #d26460;
        }
        .list-group, .panel-group {
            margin-bottom: 0;
        }
        .panel-group .panel+.panel-white {
            margin-top: 0;
        }
        .panel-group .panel-white {
            border-bottom: 1px solid #F5F5F5;
            border-radius: 0;
        }
        .panel-white:last-child {
            border-bottom-color: white;
            -webkit-box-shadow: none;
            box-shadow: none;
        }
        .panel-white .panel-heading {
            background: white;
        }
        .tab-pane ul {
            padding-left: 2em;
        }
        .tab-pane h2 {
            font-size: 1.2em;
            padding-bottom: 4px;
            border-bottom: 1px solid #ddd;
        }
        .tab-pane h3 {
            font-size: 1.1em;
        }
        .tab-content {
            border-left: 1px solid #ddd;
            border-right: 1px solid #ddd;
            border-bottom: 1px solid #ddd;
            padding: 10px;
        }
        #sidebar {
            margin-top: 30px;
        }
        .top-resource-description {
            border-bottom: 1px solid #ddd;
            background: #fcfcfc;
            padding: 15px 15px 0 15px;
            margin: -15px -15px 10px -15px;
        }
        .resource-description {
            border-bottom: 1px solid #fcfcfc;
            background: #fcfcfc;
            padding: 15px 15px 0 15px;
            margin: -15px -15px 10px -15px;
        }
        .list-group .badge {
            float: left;
        }
        .method_description {
            margin-left: 85px;
        }
        .method_description p:last-child {
            margin: 0;
        }
        .list-group-item {
            cursor: pointer;
        }
        .list-group-item:hover {
            background-color: #f5f5f5;
        }
    </style></head><body data-spy=scroll data-target=#sidebar><div class=container><div class=row><div class=col-md-9 role=main><div class=page-header><h1>TAS core outgoing (TAS -&gt; app) API documentation <small>version v1</small></h1><p>http://talentappstore.com/v1</p></div><div class="panel panel-default"><div class=panel-heading><h3 id=__tenant_ class=panel-title>/{tenant}</h3></div><div class=panel-body><div class=top-resource-description><p>A tenant is a customer within the multi-tenanted environment of Talent App Store. Currently all core API calls that your app makes to TAS are within the context of a single tenant.</p></div><div class=panel-group><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel___tenant_><span class=parent></span>/{tenant}</a> <span class=methods><a href=# data-toggle=modal data-target=#__tenant__post><span class="badge badge_post">post</span></a> <a href=# data-toggle=modal data-target=#__tenant__delete><span class="badge badge_delete">delete</span></a></span></h4></div><div id=panel___tenant_ class="panel-collapse collapse"><div class=panel-body><div class=list-group><div data-toggle=modal data-target=#__tenant__post class=list-group-item><span class="badge badge_post">post</span><div class=method_description><p>Called by TAS to inform your app that a new tenant has arrived (i.e. has clicked install on the app). The app can assume the tenant is dormant. The app can perform internal housekeeping (e.g. inserting the new tenant into its customers table) but should wait until the startUp event before loading caches, producing or consuming APIs, accepting logins, etc.</p></div><div class=clearfix></div></div><div data-toggle=modal data-target=#__tenant__delete class=list-group-item><span class="badge badge_delete">delete</span><div class=method_description><p>Called by TAS to inform your app that an existing tenant has been deleted (i.e. has clicked uninstall on the app). The app can assume the tenant is dormant. The app has now been permanently disconnected by the tenant, and should make no more tenant API calls or core API calls on behalf of the tenant, and should perform or schedule its own cleanup, e.g. deleting tenant data.</p></div><div class=clearfix></div></div></div></div></div><div class="modal fade" tabindex=0 id=__tenant__post><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_post">post</span> <span class=parent></span>/{tenant}</h4></div><div class=modal-body><div class="alert alert-info"><p>Called by TAS to inform your app that a new tenant has arrived (i.e. has clicked install on the app). The app can assume the tenant is dormant. The app can perform internal housekeeping (e.g. inserting the new tenant into its customers table) but should wait until the startUp event before loading caches, producing or consuming APIs, accepting logins, etc.</p></div><ul class="nav nav-tabs"><li class=active><a href=#__tenant__post_request data-toggle=tab>Request</a></li></ul><div class=tab-content><div class="tab-pane active" id=__tenant__post_request><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string)</em></li></ul></div></div></div></div></div></div><div class="modal fade" tabindex=0 id=__tenant__delete><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_delete">delete</span> <span class=parent></span>/{tenant}</h4></div><div class=modal-body><div class="alert alert-info"><p>Called by TAS to inform your app that an existing tenant has been deleted (i.e. has clicked uninstall on the app). The app can assume the tenant is dormant. The app has now been permanently disconnected by the tenant, and should make no more tenant API calls or core API calls on behalf of the tenant, and should perform or schedule its own cleanup, e.g. deleting tenant data.</p></div><ul class="nav nav-tabs"><li class=active><a href=#__tenant__delete_request data-toggle=tab>Request</a></li></ul><div class=tab-content><div class="tab-pane active" id=__tenant__delete_request><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string)</em></li></ul></div></div></div></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel___tenant__halts><span class=parent>/{tenant}</span>/halts</a> <span class=methods><a href=# data-toggle=modal data-target=#__tenant__halts_post><span class="badge badge_post">post</span></a></span></h4></div><div id=panel___tenant__halts class="panel-collapse collapse"><div class=panel-body><div class=list-group><div data-toggle=modal data-target=#__tenant__halts_post class=list-group-item><span class="badge badge_post">post</span><div class=method_description><p>Called by TAS to request your app to stop, i.e. stop producing or consuming APIs or accepting logins for this tenant. The app may choose to continue producing APIs for a few seconds to contribute to an orderly tenant shutdown (as long as doing so does not require consuming other app&#39;s APIs, since those apps are likely also shutting down), but in any case should aim to shut down within a few seconds. Once the app is fully dormant it should signal this via a POST to the shutDownComplete webhook passed in the request. This feedback allows TAS to know when all apps for the tenant are dormant. Upon receiving a shutDown request, apps should discard any local copies of incoming or outgoing routes, tenant HMAC signing keys (though not the app&#39;s own signing key for making core API calls,which is unaffected by a takeDown), OAuth tokens and basic auth credentials. All of these should be reloaded from TAS as required at bringUp time. Existing principal authentications are unaffected and can continue to be used.</p></div><div class=clearfix></div></div></div></div></div><div class="modal fade" tabindex=0 id=__tenant__halts_post><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_post">post</span> <span class=parent>/{tenant}</span>/halts</h4></div><div class=modal-body><div class="alert alert-info"><p>Called by TAS to request your app to stop, i.e. stop producing or consuming APIs or accepting logins for this tenant. The app may choose to continue producing APIs for a few seconds to contribute to an orderly tenant shutdown (as long as doing so does not require consuming other app&#39;s APIs, since those apps are likely also shutting down), but in any case should aim to shut down within a few seconds. Once the app is fully dormant it should signal this via a POST to the shutDownComplete webhook passed in the request. This feedback allows TAS to know when all apps for the tenant are dormant. Upon receiving a shutDown request, apps should discard any local copies of incoming or outgoing routes, tenant HMAC signing keys (though not the app&#39;s own signing key for making core API calls,which is unaffected by a takeDown), OAuth tokens and basic auth credentials. All of these should be reloaded from TAS as required at bringUp time. Existing principal authentications are unaffected and can continue to be used.</p></div><ul class="nav nav-tabs"><li class=active><a href=#__tenant__halts_post_request data-toggle=tab>Request</a></li></ul><div class=tab-content><div class="tab-pane active" id=__tenant__halts_post_request><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string)</em></li></ul><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
  "$schema":"http://json-schema.org/draft-04/schema#",
  "type":"object",
  "additionalProperties":false,
  "required":[
    "kind",
    "shutDownCompletionKey"
  ],
  "properties":{
    "kind":{
      "enum":[
        "shutDownRequest"
      ],
      "description":"always set to: shutDownRequest"
    },
    "shutDownCompletionKey":{
      "type":"integer",
      "description":"an unguessable value that the app should use in POST /{tenant}/installs/{app}/shutdownCompletions/{shutdownCompletionKey}, with an empty body once it has completed this shutdown."
    }
    
  }
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
    "kind": "shutDownRequest",
    "shutDownCompletionKey": 10235739474
}</code></pre></div></div></div></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel___tenant__startUps><span class=parent>/{tenant}</span>/startUps</a> <span class=methods><a href=# data-toggle=modal data-target=#__tenant__startUps_post><span class="badge badge_post">post</span></a></span></h4></div><div id=panel___tenant__startUps class="panel-collapse collapse"><div class=panel-body><div class=list-group><div data-toggle=modal data-target=#__tenant__startUps_post class=list-group-item><span class="badge badge_post">post</span><div class=method_description><p>Called by TAS to notify your app that it should start up. When dormant, apps should never accept logins or other end user activity (such as page serves, or incoming API calls from external systems outside TAS) until they have received a startUp notification. However producer apps (i.e. API servers) may, due to network delays, receive incoming API requests from other tenant apps before they have received their own startUp notification. To check for this, producers receiving an incoming tenant API call while dormant may choose to call GET /{tenant}, and treat a status of &#39;startingUp&#39; as being the same as if a startUp notification had been seen, i.e. produce the API normally.</p></div><div class=clearfix></div></div></div></div></div><div class="modal fade" tabindex=0 id=__tenant__startUps_post><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_post">post</span> <span class=parent>/{tenant}</span>/startUps</h4></div><div class=modal-body><div class="alert alert-info"><p>Called by TAS to notify your app that it should start up. When dormant, apps should never accept logins or other end user activity (such as page serves, or incoming API calls from external systems outside TAS) until they have received a startUp notification. However producer apps (i.e. API servers) may, due to network delays, receive incoming API requests from other tenant apps before they have received their own startUp notification. To check for this, producers receiving an incoming tenant API call while dormant may choose to call GET /{tenant}, and treat a status of &#39;startingUp&#39; as being the same as if a startUp notification had been seen, i.e. produce the API normally.</p></div><ul class="nav nav-tabs"><li class=active><a href=#__tenant__startUps_post_request data-toggle=tab>Request</a></li></ul><div class=tab-content><div class="tab-pane active" id=__tenant__startUps_post_request><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string)</em></li></ul></div></div></div></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel___tenant__m_storeFrontMainPage><span class=parent>/{tenant}</span>/m/storeFrontMainPage</a> <span class=methods><a href=# data-toggle=modal data-target=#__tenant__m_storeFrontMainPage_get><span class="badge badge_get">get</span></a></span></h4></div><div id=panel___tenant__m_storeFrontMainPage class="panel-collapse collapse"><div class=panel-body><div class=list-group><div data-toggle=modal data-target=#__tenant__m_storeFrontMainPage_get class=list-group-item><span class="badge badge_get">get</span><div class=method_description><p>Only called on apps tagged with storeFront.</p><p>Called by TAS to ask for the main page of your storeFront app. TAS calls this on your app whenever the tenant clicks to uninstall a storeFront app, while using that same app.</p><p>When this happens, the browser needs to be redirected to one of the remaining (or new) storeFronts main pages. If there are multiple storeFronts remaining, TAS will pick one at random.</p><p>The main page is normally the first page a user sees after logging in, typically displaying the apps hero list.</p></div><div class=clearfix></div></div></div></div></div><div class="modal fade" tabindex=0 id=__tenant__m_storeFrontMainPage_get><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_get">get</span> <span class=parent>/{tenant}</span>/m/storeFrontMainPage</h4></div><div class=modal-body><div class="alert alert-info"><p>Only called on apps tagged with storeFront.</p><p>Called by TAS to ask for the main page of your storeFront app. TAS calls this on your app whenever the tenant clicks to uninstall a storeFront app, while using that same app.</p><p>When this happens, the browser needs to be redirected to one of the remaining (or new) storeFronts main pages. If there are multiple storeFronts remaining, TAS will pick one at random.</p><p>The main page is normally the first page a user sees after logging in, typically displaying the apps hero list.</p></div><ul class="nav nav-tabs"><li class=active><a href=#__tenant__m_storeFrontMainPage_get_request data-toggle=tab>Request</a></li><li><a href=#__tenant__m_storeFrontMainPage_get_response data-toggle=tab>Response</a></li></ul><div class=tab-content><div class="tab-pane active" id=__tenant__m_storeFrontMainPage_get_request><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string)</em></li></ul></div><div class=tab-pane id=__tenant__m_storeFrontMainPage_get_response><h2>HTTP status code <a href=http://httpstatus.es/200 target=_blank>200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "additionalProperties": false,
    "description": "If your app is a storeFrontapp, you use this API to declare where you would prefer newly logged in users to be sent to. Sometime TAS will need to direct users to this page, e.g. when someone inside some other storeFront app clicks and unInstalls that same storeFront. That storeFront then becomes dead, and the user needs to be directed to one of the remaining storeFront apps, e.g. this one.", 
    "required": [
        "kind",
        "uri"
    ],
    "properties": {
        "kind": {
            "enum": [
                "storeFrontMainPage"
            ],
            "description": "always set to: storeFrontMainPage"
        },
        "uri": {
            "type": "string",
            "description": "your app&#x27;s main uri - i.e. the default place to send users on login"
        }
    }
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
   "kind": "storeFrontMainPage",
   "uri": "https://superstorefront.com/acme/main.html"
}</code></pre></div></div></div></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel___tenant__authentications__principalDev___principalType__pings><span class=parent>/{tenant}/authentications/{principalDev}/{principalType}</span>/pings</a> <span class=methods><a href=# data-toggle=modal data-target=#__tenant__authentications__principalDev___principalType__pings_post><span class="badge badge_post">post</span></a></span></h4></div><div id=panel___tenant__authentications__principalDev___principalType__pings class="panel-collapse collapse"><div class=panel-body><div class=list-group><div data-toggle=modal data-target=#__tenant__authentications__principalDev___principalType__pings_post class=list-group-item><span class="badge badge_post">post</span><div class=method_description><p></p><p>Called by TAS to tell your authListener app about someone logging in.</p><p></p><p></p><p>AuthListeners are special, highly privileged apps that perform housekeeping when users (principals) log in.</p><p></p><p></p><p>A typical authListener would be an auto-provisioning app. On someone logging in, the app would examine the attributes of the incoming SAML assertion and use the data to maintain a SCIM SoT server by making calls to GET /users/{}, POST /users, etc.</p><p></p><p></p><p>Since your app cannot know all of the possible types of principal that might log in, it should return with status 200 immediately for unrecognized types.</p><p></p><p></p><p>TAS will only call this API on apps that are declared to be authListeners. TAS will wait until all authListeners have responded with 200 before it passes the login through to the web app, so that any auto-provisioning type operations are complete by the time the user login hits the web site.</p><p></p><p></p><p>RAML (the tool used to create this documentation) does not allow currently allow describing the different parts of multipart/form-data, but for this endpoint your app will receive two parts - the raw SAML authentication assertion itself, and the derived samlSubject object (json).</p></div><div class=clearfix></div></div></div></div></div><div class="modal fade" tabindex=0 id=__tenant__authentications__principalDev___principalType__pings_post><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_post">post</span> <span class=parent>/{tenant}/authentications/{principalDev}/{principalType}</span>/pings</h4></div><div class=modal-body><div class="alert alert-info"><p></p><p>Called by TAS to tell your authListener app about someone logging in.</p><p></p><p></p><p>AuthListeners are special, highly privileged apps that perform housekeeping when users (principals) log in.</p><p></p><p></p><p>A typical authListener would be an auto-provisioning app. On someone logging in, the app would examine the attributes of the incoming SAML assertion and use the data to maintain a SCIM SoT server by making calls to GET /users/{}, POST /users, etc.</p><p></p><p></p><p>Since your app cannot know all of the possible types of principal that might log in, it should return with status 200 immediately for unrecognized types.</p><p></p><p></p><p>TAS will only call this API on apps that are declared to be authListeners. TAS will wait until all authListeners have responded with 200 before it passes the login through to the web app, so that any auto-provisioning type operations are complete by the time the user login hits the web site.</p><p></p><p></p><p>RAML (the tool used to create this documentation) does not allow currently allow describing the different parts of multipart/form-data, but for this endpoint your app will receive two parts - the raw SAML authentication assertion itself, and the derived samlSubject object (json).</p></div><ul class="nav nav-tabs"><li class=active><a href=#__tenant__authentications__principalDev___principalType__pings_post_request data-toggle=tab>Request</a></li></ul><div class=tab-content><div class="tab-pane active" id=__tenant__authentications__principalDev___principalType__pings_post_request><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string)</em></li><li><strong>principalDev</strong>: <em>required (string)</em></li><li><strong>principalType</strong>: <em>required (string)</em></li></ul><h3>Body</h3><p><strong>Type: multipart/form-data</strong></p></div></div></div></div></div></div></div></div></div></div></div><div class=col-md-3><div id=sidebar class="hidden-print affix" role=complementary><ul class="nav nav-pills nav-stacked"><li><a href=#__tenant_>/{tenant}</a></li></ul></div></div></div></div></body></html>