<!DOCTYPE HTML><html><head><title>TAS core incoming (app -&gt; TAS) API documentation</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="generator" content="https://github.com/kevinrenskers/raml2html 1.6.0"><link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"><link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/default.min.css"><script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"></script><script type="text/javascript" src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script><script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/highlight.min.js"></script><script type="text/javascript">
        $(document).ready(function() {
            $('.page-header pre code, .top-resource-description pre code').each(function(i, block) {
                hljs.highlightBlock(block);
            });

            $('[data-toggle]').click(function() {
                var selector = $(this).data('target') + ' pre code';
                $(selector).each(function(i, block) {
                    hljs.highlightBlock(block);
                });
            });
            
            
            // open modal on hashes like #_action_get
            $(window).bind('hashchange', function(e) {
                var anchor_id = document.location.hash.substr(1); //strip #
                var element = $('#' + anchor_id);

                // do we have such element + is it a modal?  --> show it
                if (element.length && element.hasClass('modal')) {
                    element.modal('show');
                }
            });

            // execute hashchange on first page load
            $(window).trigger('hashchange');
            
            // remove url fragment on modal hide
            $('.modal').on('hidden.bs.modal', function() {
                if(history && history.replaceState) { 
                    history.replaceState({}, '', '#');
                }
            });
        });
    </script><style>
        .hljs {
            background: transparent;
        }
        .parent {
            color: #999;
        }
        .list-group-item > .badge {
            float: none;
            margin-right: 6px;
        }
        .panel-title > .methods {
            float: right;
        }
        .badge {
            border-radius: 0;
            text-transform: uppercase;
            width: 70px;
            font-weight: normal;
            color: #f3f3f6;
            line-height: normal;
        }
        .badge_get {
            background-color: #63a8e2;
        }
        .badge_post {
            background-color: #6cbd7d;
        }
        .badge_put {
            background-color: #22bac4;
        }
        .badge_delete {
            background-color: #d26460;
        }
        .badge_patch {
            background-color: #ccc444;
        }
        .list-group, .panel-group {
            margin-bottom: 0;
        }
        .panel-group .panel+.panel-white {
            margin-top: 0;
        }
        .panel-group .panel-white {
            border-bottom: 1px solid #F5F5F5;
            border-radius: 0;
        }
        .panel-white:last-child {
            border-bottom-color: white;
            -webkit-box-shadow: none;
            box-shadow: none;
        }
        .panel-white .panel-heading {
            background: white;
        }
        .tab-pane ul {
            padding-left: 2em;
        }
        .tab-pane h2 {
            font-size: 1.2em;
            padding-bottom: 4px;
            border-bottom: 1px solid #ddd;
        }
        .tab-pane h3 {
            font-size: 1.1em;
        }
        .tab-content {
            border-left: 1px solid #ddd;
            border-right: 1px solid #ddd;
            border-bottom: 1px solid #ddd;
            padding: 10px;
        }
        #sidebar {
            margin-top: 30px;
            padding-right: 5px;
            overflow: auto;
            height: 90%;
        }
        .top-resource-description {
            border-bottom: 1px solid #ddd;
            background: #fcfcfc;
            padding: 15px 15px 0 15px;
            margin: -15px -15px 10px -15px;
        }
        .resource-description {
            border-bottom: 1px solid #fcfcfc;
            background: #fcfcfc;
            padding: 15px 15px 0 15px;
            margin: -15px -15px 10px -15px;
        }
        .resource-description p:last-child {
            margin: 0;
        }
        .list-group .badge {
            float: left;
        }
        .method_description {
            margin-left: 85px;
        }
        .method_description p:last-child {
            margin: 0;
        }
        .list-group-item {
            cursor: pointer;
        }
        .list-group-item:hover {
            background-color: #f5f5f5;
        }
    </style></head><body data-spy="scroll" data-target="#sidebar"><div class="container"><div class="row"><div class="col-md-9" role="main"><div class="page-header"><h1>TAS core incoming (app -&gt; TAS) API documentation <small>version v1</small></h1><p>http://talentappstore.com/v1</p></div><div class="panel panel-default"><div class="panel-heading"><h3 id="_tenants" class="panel-title">/tenants</h3></div><div class="panel-body"><div class="top-resource-description"><p>A <em>tenant</em> is a customer within the multi-tenanted environment of Talent App Store.</p></div><div class="panel-group"><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__status"><span class="parent">/tenants/{tenant}</span>/status</a> <span class="methods"><a href="#_tenants__tenant__status_get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel__tenants__tenant__status" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#_tenants__tenant__status_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Get the status of the tenant, including the current state and security generation. Normally apps would keep use this information when halted or started to determine whether to flush cached OAuth tokens and routes.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_tenants__tenant__status_get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/tenants/{tenant}</span>/status</h4></div><div class="modal-body"><div class="alert alert-info"><p>Get the status of the tenant, including the current state and security generation. Normally apps would keep use this information when halted or started to determine whether to flush cached OAuth tokens and routes.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_tenants__tenant__status_get_request" data-toggle="tab">Request</a></li><li><a href="#_tenants__tenant__status_get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_tenants__tenant__status_get_request"><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string )</em></li></ul></div><div class="tab-pane" id="_tenants__tenant__status_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "additionalProperties": false,
    "properties": {
        "incarnation": {
            "type": "integer",
            "description": "a number representing the &#x27;configuration version&#x27; of this tenant. Incremented on any changes to the installed apps."
        },
        "securityGeneration": {
            "type": "integer",
            "description": "a number representing the &#x27;security version&#x27; of this tenant. Incremented when tenant signals such during a patch operation."
        },
        "state": {
            "enum": [
                "preHalting",
                "preHalted",
                "halting",
                "halted",
                "preStarting",
                "preStarted",
                "starting",
                "started",
                "broken"
            ],
            "description": "The tenant&#x27;s current status."
        }
    }
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
 "incarnation": 1046,
 "securityGeneration": 12,
 "state": "halting"
}
</code></pre></div></div></div></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__headlessAuthentications__principalDeveloper___principalType__viaVerifiedEmail__email_"><span class="parent">/tenants/{tenant}/headlessAuthentications/{principalDeveloper}/{principalType}/viaVerifiedEmail</span>/{email}</a> <span class="methods"><a href="#_tenants__tenant__headlessAuthentications__principalDeveloper___principalType__viaVerifiedEmail__email__post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel__tenants__tenant__headlessAuthentications__principalDeveloper___principalType__viaVerifiedEmail__email_" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#_tenants__tenant__headlessAuthentications__principalDeveloper___principalType__viaVerifiedEmail__email__post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>This endpoint is available only to apps tagged as "headless authenticators".</p><p>Useful for:</p><ul><li>adding "work on behalf of" behaviour (e.g. a recruiter logs in and works on behalf of a candidate)</li><li>when creating a new user (or candidate), finding existing auth info and reusing it</li></ul><p>Your app can call this API to to headlessly log in as the principal with the given email address, assuming:</p><ul><li>they already have a row with that email in the users table of some SoT app</li><li>that row is tagged with {E} and {N}, where {E} is for a non-attribute supplying idp (e.g., Google, email, backdoor idp).</li></ul><p>Example:</p><ul><li>your app wants to create a job application for fred@acme.com, but is cognisant that Fred may already have a record, maybe authenticated via Google or whatever; so</li><li>your app calls POST /tenants/acme/headlessAuthentications/tas/candidate/viaVerifiedEmail/fred@acme.com</li><li>TAS starts preparing its response:</li><li>On all apps marked as "principal holders" (i.e, apps that have SoT user tables), TAS calls GET /tenants/acme/m/principals/tas/candidate/byEmail/fred@acme.com</li><li>the fancycruit app responds first - it does hold a record for fred@acme.com, and so replies with: { "E": "acme-tas-candidate-google-idp", "N": "1246349464" }</li><li>TAS synthesizes a SAML assertion with the given E and N and stops asking other apps (i.e. no testing is done for conflicting /E/N values for fred - something for apps to build at some stage)</li><li>TAS processes the SAML assertion just as if fred had logged in, e.g. session decoration happens</li><li>if no "principal holder" app responds, then no SAML assertion is returned and your app can assume no candidate exists</li><li>Finally TAS replies to your app. Your app can now access /E/N, request OAuth tokens, and generally act as if fred had logged in</li></ul><p>Because this API allows apps to log in on behalf of users, tenants must have complete trust in the integrity of your app, and also that your app <em>always</em> verifies that the email address does belong to the end user. Not verifying email addresses opens a security hole.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_tenants__tenant__headlessAuthentications__principalDeveloper___principalType__viaVerifiedEmail__email__post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/tenants/{tenant}/headlessAuthentications/{principalDeveloper}/{principalType}/viaVerifiedEmail</span>/{email}</h4></div><div class="modal-body"><div class="alert alert-info"><p>This endpoint is available only to apps tagged as "headless authenticators".</p><p>Useful for:</p><ul><li>adding "work on behalf of" behaviour (e.g. a recruiter logs in and works on behalf of a candidate)</li><li>when creating a new user (or candidate), finding existing auth info and reusing it</li></ul><p>Your app can call this API to to headlessly log in as the principal with the given email address, assuming:</p><ul><li>they already have a row with that email in the users table of some SoT app</li><li>that row is tagged with {E} and {N}, where {E} is for a non-attribute supplying idp (e.g., Google, email, backdoor idp).</li></ul><p>Example:</p><ul><li>your app wants to create a job application for fred@acme.com, but is cognisant that Fred may already have a record, maybe authenticated via Google or whatever; so</li><li>your app calls POST /tenants/acme/headlessAuthentications/tas/candidate/viaVerifiedEmail/fred@acme.com</li><li>TAS starts preparing its response:</li><li>On all apps marked as "principal holders" (i.e, apps that have SoT user tables), TAS calls GET /tenants/acme/m/principals/tas/candidate/byEmail/fred@acme.com</li><li>the fancycruit app responds first - it does hold a record for fred@acme.com, and so replies with: { "E": "acme-tas-candidate-google-idp", "N": "1246349464" }</li><li>TAS synthesizes a SAML assertion with the given E and N and stops asking other apps (i.e. no testing is done for conflicting /E/N values for fred - something for apps to build at some stage)</li><li>TAS processes the SAML assertion just as if fred had logged in, e.g. session decoration happens</li><li>if no "principal holder" app responds, then no SAML assertion is returned and your app can assume no candidate exists</li><li>Finally TAS replies to your app. Your app can now access /E/N, request OAuth tokens, and generally act as if fred had logged in</li></ul><p>Because this API allows apps to log in on behalf of users, tenants must have complete trust in the integrity of your app, and also that your app <em>always</em> verifies that the email address does belong to the end user. Not verifying email addresses opens a security hole.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_tenants__tenant__headlessAuthentications__principalDeveloper___principalType__viaVerifiedEmail__email__post_request" data-toggle="tab">Request</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_tenants__tenant__headlessAuthentications__principalDeveloper___principalType__viaVerifiedEmail__email__post_request"><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string )</em></li><li><strong>principalDeveloper</strong>: <em>required (string )</em></li><li><strong>principalType</strong>: <em>required (string )</em></li><li><strong>email</strong>: <em>required (string )</em></li></ul></div></div></div></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__sessions_viaLogin__app_"><span class="parent">/tenants/{tenant}/sessions/viaLogin</span>/{app}</a> <span class="methods"></span></h4></div><div id="panel__tenants__tenant__sessions_viaLogin__app_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Your app, i.e. the SSO-protected web site where the principal authenticated.</p></div><div class="list-group"></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__sessions_viaLogin__app___E_"><span class="parent">/tenants/{tenant}/sessions/viaLogin/{app}</span>/{E}</a> <span class="methods"></span></h4></div><div id="panel__tenants__tenant__sessions_viaLogin__app___E_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>The entityID of the currently logged in principal, as passed to your app&#39;s SSO-protected web site (see details of authentication).</p></div><div class="list-group"></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__sessions_viaLogin__app___E___N_"><span class="parent">/tenants/{tenant}/sessions/viaLogin/{app}/{E}</span>/{N}</a> <span class="methods"><a href="#_tenants__tenant__sessions_viaLogin__app___E___N__get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel__tenants__tenant__sessions_viaLogin__app___E___N_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>The nameID of the currently logged in principal, as passed to your app&#39;s SSO-protected web site (see details of authentication).</p></div><div class="list-group"><div onclick="window.location.href = '#_tenants__tenant__sessions_viaLogin__app___E___N__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Fetch principal&#39;s TAS session using details from the SAML assertion passed when they logged in.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_tenants__tenant__sessions_viaLogin__app___E___N__get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/tenants/{tenant}/sessions/viaLogin/{app}/{E}</span>/{N}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Fetch principal&#39;s TAS session using details from the SAML assertion passed when they logged in.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_tenants__tenant__sessions_viaLogin__app___E___N__get_request" data-toggle="tab">Request</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_tenants__tenant__sessions_viaLogin__app___E___N__get_request"><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string )</em></li><li><strong>app</strong>: <em>required (string )</em></li><li><strong>E</strong>: <em>required (string )</em></li><li><strong>N</strong>: <em>required (string )</em></li></ul></div></div></div></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__sessions_viaToken__accessToken_"><span class="parent">/tenants/{tenant}/sessions/viaToken</span>/{accessToken}</a> <span class="methods"><a href="#_tenants__tenant__sessions_viaToken__accessToken__get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel__tenants__tenant__sessions_viaToken__accessToken_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>The OAuth access token (a JWT) passed in to the producing app</p></div><div class="list-group"><div onclick="window.location.href = '#_tenants__tenant__sessions_viaToken__accessToken__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Fetch principal&#39;s TAS session using details from an OAuth token</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_tenants__tenant__sessions_viaToken__accessToken__get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/tenants/{tenant}/sessions/viaToken</span>/{accessToken}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Fetch principal&#39;s TAS session using details from an OAuth token</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_tenants__tenant__sessions_viaToken__accessToken__get_request" data-toggle="tab">Request</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_tenants__tenant__sessions_viaToken__accessToken__get_request"><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string )</em></li><li><strong>accessToken</strong>: <em>required (string )</em></li></ul></div></div></div></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__samlSPMetadata"><span class="parent">/tenants/{tenant}</span>/samlSPMetadata</a> <span class="methods"></span></h4></div><div id="panel__tenants__tenant__samlSPMetadata" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Apps that are SSO-protected (i.e., SPs in SAML lingo) require their own SAML metadata, referred to as the SP metadata.</p></div><div class="list-group"></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__samlSPMetadata__principalDeveloper___principalType_"><span class="parent">/tenants/{tenant}/samlSPMetadata/{principalDeveloper}</span>/{principalType}</a> <span class="methods"><a href="#_tenants__tenant__samlSPMetadata__principalDeveloper___principalType__get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel__tenants__tenant__samlSPMetadata__principalDeveloper___principalType_" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#_tenants__tenant__samlSPMetadata__principalDeveloper___principalType__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Get the metadata for this app (the SP).</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_tenants__tenant__samlSPMetadata__principalDeveloper___principalType__get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/tenants/{tenant}/samlSPMetadata/{principalDeveloper}</span>/{principalType}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Get the metadata for this app (the SP).</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_tenants__tenant__samlSPMetadata__principalDeveloper___principalType__get_request" data-toggle="tab">Request</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_tenants__tenant__samlSPMetadata__principalDeveloper___principalType__get_request"><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string )</em></li><li><strong>principalDeveloper</strong>: <em>required (string )</em></li><li><strong>principalType</strong>: <em>required (string )</em></li></ul></div></div></div></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__samlIdPMetadata"><span class="parent">/tenants/{tenant}</span>/samlIdPMetadata</a> <span class="methods"></span></h4></div><div id="panel__tenants__tenant__samlIdPMetadata" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Apps that are SSO-protected (i.e., SPs in SAML lingo) require the SAML metadata for the IdP proxy that front ends all of the identity providers that the tenant has set up for the given principal type.</p></div><div class="list-group"></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__samlIdPMetadata__principalDeveloper___principalType_"><span class="parent">/tenants/{tenant}/samlIdPMetadata/{principalDeveloper}</span>/{principalType}</a> <span class="methods"><a href="#_tenants__tenant__samlIdPMetadata__principalDeveloper___principalType__get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel__tenants__tenant__samlIdPMetadata__principalDeveloper___principalType_" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#_tenants__tenant__samlIdPMetadata__principalDeveloper___principalType__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Get the metadata for the IdP proxy.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_tenants__tenant__samlIdPMetadata__principalDeveloper___principalType__get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/tenants/{tenant}/samlIdPMetadata/{principalDeveloper}</span>/{principalType}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Get the metadata for the IdP proxy.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_tenants__tenant__samlIdPMetadata__principalDeveloper___principalType__get_request" data-toggle="tab">Request</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_tenants__tenant__samlIdPMetadata__principalDeveloper___principalType__get_request"><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string )</em></li><li><strong>principalDeveloper</strong>: <em>required (string )</em></li><li><strong>principalType</strong>: <em>required (string )</em></li></ul></div></div></div></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__samlSubjects"><span class="parent">/tenants/{tenant}</span>/samlSubjects</a> <span class="methods"></span></h4></div><div id="panel__tenants__tenant__samlSubjects" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p><b>All APIs to obtain samlSubjects are deprecated. We now expect apps to be able to parse the samlSubject directly from the incoming assertion. This document will be removed once it has a new home.</b></p><p>A samlSubject is the primary key, assembled from information in the SAML assertion from the IdP, of the current logged in user. The samlSubject is useful when your app wants to get some more detail about the user such as their name, email, etc, by calling SCIM APIs like /employees/{samlSubject}, etc. - these APIs require a samlSubject.</p><p>By "current logged in user", we mean someone logged into this app (if this app is an SSO-protected app) or another app higher up the chain (if this app is an API server producing an OAuth API).</p><p>samlSubject is a string made up of values extracted from the SAML authentication assertion information that was captured by TAS when this user logged in to an SSO-protected app, likely to include:<ul><li>Name ID</li><li>Name Qualifier</li><li>Entity ID of the issuing IdP</li></ul></p><p>The actual SAML items above are not yet confirmed, nor do we have a any standard approach to requesting them in SAML assertions or extracting them from SAML assertions. But in any case the set will uniquely identify the user, even across multiple possible authenticating IdPs. For example, "candidates" may be held across a number of IdPs, including corporate IdP (internal candidates), Facebook pseudo-IdP, etc.</p><p>samlSubjects are identical across all SP&#39;s (i.e., all TAS SSO-protected apps), so that apps can correlate the user&#39;s identity (i.e. they each have the same understanding of who a user is). This means that transient SAML identifiers for example cannot be used.</p><p>API servers can extract the samlSubject from the sub field of the incoming OAuth access token.</p><p>Because access tokens are generated and signed by TAS, the user&#39;s identity can be passed securely down through a chain of OAuth API calls, while preventing malicious apps from acting on behalf of a user who has not logged in.</p><p>Each producing app in the chain gets their chance to enforce their own business rules and make further tenant API calls on behalf of the logged in user.</p></div><div class="list-group"></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__samlSubjects_viaSamlAssertion"><span class="parent">/tenants/{tenant}/samlSubjects</span>/viaSamlAssertion</a> <span class="methods"><a href="#_tenants__tenant__samlSubjects_viaSamlAssertion_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel__tenants__tenant__samlSubjects_viaSamlAssertion" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#_tenants__tenant__samlSubjects_viaSamlAssertion_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p></p><p><b>All APIs to obtain samlSubjects are deprecated. We now expect apps to be able to parse the samlSubject directly from the incoming assertion. This document will be removed once it has a new home.</b></p>If your app is an SSO-protected web site, then it can exchange the SAML authentication assertion that it received at login time for the samlSubject by using this endpoint and passing the assertion as the request body.<p></p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_tenants__tenant__samlSubjects_viaSamlAssertion_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/tenants/{tenant}/samlSubjects</span>/viaSamlAssertion</h4></div><div class="modal-body"><div class="alert alert-info"><p></p><p><b>All APIs to obtain samlSubjects are deprecated. We now expect apps to be able to parse the samlSubject directly from the incoming assertion. This document will be removed once it has a new home.</b></p>If your app is an SSO-protected web site, then it can exchange the SAML authentication assertion that it received at login time for the samlSubject by using this endpoint and passing the assertion as the request body.<p></p></div><ul class="nav nav-tabs"><li class="active"><a href="#_tenants__tenant__samlSubjects_viaSamlAssertion_post_request" data-toggle="tab">Request</a></li><li><a href="#_tenants__tenant__samlSubjects_viaSamlAssertion_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_tenants__tenant__samlSubjects_viaSamlAssertion_post_request"><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string )</em></li></ul><h3>Body</h3><p><strong>Type: application/xml</strong></p></div><div class="tab-pane" id="_tenants__tenant__samlSubjects_viaSamlAssertion_post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "description": "A set of SAML values that uniquely identify this person, consistently across TAS apps, and with any number of potential IdPs",
    "additionaProperties": false,
    "required": [
        "pd",
        "pt",
        "nameID",
        "entityID"
    ],
    "properties": {
        "pd": {
            "type": "string",
            "description": "developer who owns the principal type"
        },
        "pt": {
            "type": "string",
            "description": "principal type"
        },
        "nameID": {
            "type": "string"
        },
        "entityID": {
            "type": "string"
        },
        "roles": { "type": "array", "items": { "type": "string" }} 
    }
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
      "pd": "tas",
      "pt": "candidate",  
	  "nameID": "frank@ibm.com",
	  "entityID": "some other SAML info"
}</code></pre></div></div></div></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__OAuthFlushes"><span class="parent">/tenants/{tenant}</span>/OAuthFlushes</a> <span class="methods"><a href="#_tenants__tenant__OAuthFlushes_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel__tenants__tenant__OAuthFlushes" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#_tenants__tenant__OAuthFlushes_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>This endpoint is available only to apps tagged as "storeFront".</p><p>Your app calls this endpoint to reboot the tenant and increment the security generation. This effectively (since apps should always check for changed security generation) invalidates all OAuth tokens for APIs consumed or produced by this tenant. This is used to mitigate an attack where an app has an OAuth token stolen from it (tenant admin person clicks "Flush credentials" in the storefront).</p><p>The response body is an unguessable unique "launch key" which can be used with POST /tenants/{tenant}/reboots/{launchKey}.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_tenants__tenant__OAuthFlushes_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/tenants/{tenant}</span>/OAuthFlushes</h4></div><div class="modal-body"><div class="alert alert-info"><p>This endpoint is available only to apps tagged as "storeFront".</p><p>Your app calls this endpoint to reboot the tenant and increment the security generation. This effectively (since apps should always check for changed security generation) invalidates all OAuth tokens for APIs consumed or produced by this tenant. This is used to mitigate an attack where an app has an OAuth token stolen from it (tenant admin person clicks "Flush credentials" in the storefront).</p><p>The response body is an unguessable unique "launch key" which can be used with POST /tenants/{tenant}/reboots/{launchKey}.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_tenants__tenant__OAuthFlushes_post_request" data-toggle="tab">Request</a></li><li><a href="#_tenants__tenant__OAuthFlushes_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_tenants__tenant__OAuthFlushes_post_request"><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string )</em></li></ul><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "properties": {
       "continuePage": { "type": "string", "description": "the URI that your storefront app thinks the user should be redirected to on patch completion, unless some other storefront app gets installed and hence makes that decision" },
       "bumpSecurityGeneration": { "type": "boolean", "description": "true to request that the tenant&#x27;s security generation is incremented as the patch is applied" }, 
       "patchSet": { "$ref": "./patchSet.json"}
       },
       "required": ["patchSet", "bumpSecurityGeneration" ]
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
    "continuePage": "https://storefront.com/apps/zwango",
    "patchSet": [
        {
            "op": "test",
            "path": "status.incarnation",
            "value": 23
        },
        {
            "op": "add",
            "path": "installs",
            "value": {
                "app": "hrsoft-zwango"
            }
        }
    ],
    "bumpSecurityGeneration": false
}
</code></pre></div><div class="tab-pane" id="_tenants__tenant__OAuthFlushes_post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
	"$schema":"http://json-schema.org/draft-04/schema#",
	"type":"object",
	"additionalProperties":false,
	"properties":{
		"launchKey": { "type": "integer", "description": "an unguessable key used to get information about a previously launched patchSet"}
	},
	"required":[
		"launchKey"
	]
}
</code></pre><p><strong>Example</strong>:</p><pre><code>{
	"launchKey": 40864894563934
}</code></pre></div></div></div></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__patchSets"><span class="parent">/tenants/{tenant}</span>/patchSets</a> <span class="methods"><a href="#_tenants__tenant__patchSets_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel__tenants__tenant__patchSets" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#_tenants__tenant__patchSets_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>This endpoint is available only to apps tagged as "storeFront".</p><p>Your app calls this endpoint to validate and then prepare a patch document, e.g. to reflect the tenant clicking install on an app.</p><p>The response body is an unguessable unique "launch key" which can be used with POST /tenants/{tenant}/reboots/{launchKey}.</p><p>Pass true for "bumpSecurityGeneration" to force the security generation to be incremented.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_tenants__tenant__patchSets_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/tenants/{tenant}</span>/patchSets</h4></div><div class="modal-body"><div class="alert alert-info"><p>This endpoint is available only to apps tagged as "storeFront".</p><p>Your app calls this endpoint to validate and then prepare a patch document, e.g. to reflect the tenant clicking install on an app.</p><p>The response body is an unguessable unique "launch key" which can be used with POST /tenants/{tenant}/reboots/{launchKey}.</p><p>Pass true for "bumpSecurityGeneration" to force the security generation to be incremented.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_tenants__tenant__patchSets_post_request" data-toggle="tab">Request</a></li><li><a href="#_tenants__tenant__patchSets_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_tenants__tenant__patchSets_post_request"><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string )</em></li></ul><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "properties": {
       "continuePage": { "type": "string", "description": "the URI that your storefront app thinks the user should be redirected to on patch completion, unless some other storefront app gets installed and hence makes that decision" },
       "bumpSecurityGeneration": { "type": "boolean", "description": "true to request that the tenant&#x27;s security generation is incremented as the patch is applied" }, 
       "patchSet": { "$ref": "./patchSet.json"}
       },
       "required": ["patchSet", "bumpSecurityGeneration" ]
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
    "continuePage": "https://storefront.com/apps/zwango",
    "patchSet": [
        {
            "op": "test",
            "path": "status.incarnation",
            "value": 23
        },
        {
            "op": "add",
            "path": "installs",
            "value": {
                "app": "hrsoft-zwango"
            }
        }
    ],
    "bumpSecurityGeneration": false
}
</code></pre></div><div class="tab-pane" id="_tenants__tenant__patchSets_post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
	"$schema":"http://json-schema.org/draft-04/schema#",
	"type":"object",
	"additionalProperties":false,
	"properties":{
		"launchKey": { "type": "integer", "description": "an unguessable key used to get information about a previously launched patchSet"}
	},
	"required":[
		"launchKey"
	]
}
</code></pre><p><strong>Example</strong>:</p><pre><code>{
	"launchKey": 40864894563934
}</code></pre></div></div></div></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__tenants__tenant__reboots__launchKey_"><span class="parent">/tenants/{tenant}/reboots</span>/{launchKey}</a> <span class="methods"><a href="#_tenants__tenant__reboots__launchKey__post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel__tenants__tenant__reboots__launchKey_" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#_tenants__tenant__reboots__launchKey__post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Launch a previously prepared reboot (if not already launched), and get the latest events and the current summary details.</p><p>This endpoint is unauthenticated and has CORS headers that allow access from any domain (since the javascript calling it belongs to a storefront app which does not share the same domain as the tas core).</p><p>If the apply is already "complete" then this call will return immediately, with any events that match the filter, up to the maximum events per call (100).</p><p>Otherwise, the call blocks for .5 seconds to avoid thrashing, then returns as soon as at least one event is available that matches the filter, or the apply becomes complete (which would always be accompanied by an event). If no events are available after 60 seconds, the call returns indicating a timeout - the client will typically immediately make another call in a typical long-polling pattern, until the apply is marked as complete and the last event has been fetched.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_tenants__tenant__reboots__launchKey__post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/tenants/{tenant}/reboots</span>/{launchKey}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Launch a previously prepared reboot (if not already launched), and get the latest events and the current summary details.</p><p>This endpoint is unauthenticated and has CORS headers that allow access from any domain (since the javascript calling it belongs to a storefront app which does not share the same domain as the tas core).</p><p>If the apply is already "complete" then this call will return immediately, with any events that match the filter, up to the maximum events per call (100).</p><p>Otherwise, the call blocks for .5 seconds to avoid thrashing, then returns as soon as at least one event is available that matches the filter, or the apply becomes complete (which would always be accompanied by an event). If no events are available after 60 seconds, the call returns indicating a timeout - the client will typically immediately make another call in a typical long-polling pattern, until the apply is marked as complete and the last event has been fetched.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_tenants__tenant__reboots__launchKey__post_request" data-toggle="tab">Request</a></li><li><a href="#_tenants__tenant__reboots__launchKey__post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_tenants__tenant__reboots__launchKey__post_request"><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string )</em></li><li><strong>launchKey</strong>: <em>required (string )</em></li></ul><h3>Query Parameters</h3><ul><li><strong>afterEvent</strong>: <em>(integer )</em><p>The sequence of an existing event - this call should return events immediately <em>after</em> this event. Omitting this parameter returns the first events.</p><p><strong>Example</strong>:</p><pre><code>12</code></pre></li></ul></div><div class="tab-pane" id="_tenants__tenant__reboots__launchKey__post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "definitions": {
        "app": {
            "type": "string"
        },
        "elapsedTime": {
            "description": "elapsed time of the operation in milliseconds",
            "type": "integer"
        },
        "tenantEvent": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "patchSetApplyRebootStart",
                        "bumpSecurityGenerationRebootStart",
                        "simpleRebootStart",
                        "tenantPreHaltStart",
                        "tenantPreHaltComplete",
                        "tenantHaltStart",
                        "tenantHaltComplete",
                        "appPatchesApplyStart",
                        "appPatchesApplyComplete",
                        "bumpSecurityGenerationComplete",
                        "tenantPreStartStart",
                        "tenantPreStartComplete",
                        "tenantStartStart",
                        "tenantStartComplete",
                        "patchSetApplyRebootComplete",
                        "bumpSecurityGenerationRebootComplete",
                        "simpleRebootComplete"
                    ]
                }
            }
        },
        "appEvent": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind",
                "app"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "appPreHaltStart",
                        "appPreHaltComplete",
                        "appHaltStart",
                        "appHaltComplete",
                        "appPreStartStart",
                        "appPreStartComplete",
                        "appStartStart",
                        "appStartComplete",
                        "appInstallComplete",
                        "appUninstallComplete",
                        "appEditComplete"
                    ]
                },
                "app": {
                    "$ref": "#/definitions/app"
                }
            }
        },
        "tenantStatusEvent": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind",
                "incarnation",
                "securityGeneration"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "tenantStatusEvent"
                    ]
                },
                "incarnation": {
                    "type": "integer"
                },
                "securityGeneration": {
                    "type": "integer"
                }
            }
        },
        "orderedEvent": {
            "type": "object",
            "properties": {
                "seq": {
                    "type": "integer"
                },
                "time": {
                    "type": "string",
                    "format": "date-time"
                },
                "event": {
                    "oneOf": [
                        {
                            "$ref": "#/definitions/tenantEvent"
                        },
                        {
                            "$ref": "#/definitions/appEvent"
                        },
                        {
                            "$ref": "#/definitions/tenantStatusEvent"
                        }
                    ]
                }
            },
            "required": [
                "seq",
                "time",
                "event"
            ],
            "additionalProperties": false
        }
    },
    "type": "object",
    "additionalProperties": false,
    "required": [
        "status"
    ],
    "properties": {
        "status": {
            "enum": [
                "notLaunched",
                "inProcess",
                "complete"
            ]
        },
        "latestEvent": {
            "type": "integer"
        },
        "continuePage": {
            "type": "string",
            "description": "the URI that the browser should redirect the user to once this reboot is complete, possibly at a new storefront if a patch set apply swapped out the current one"
        },
        "events": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/orderedEvent"
            }
        }
    }
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
  "status": "complete",
  "latestEvent": 52,
  "events": [
    {"seq": 0, "time": "2015-11-05T13:15:30Z", "event": {"kind": "patchSetApplyRebootStart"}},
    {"seq": 1, "time": "2015-11-05T13:15:30Z", "event": {"kind": "tenantPreHaltStart"}},
    {"seq": 2, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreHaltStart", "app": "tas-zoom"}},
    {"seq": 3, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreHaltStart", "app": "hrlabs-fratly"}},
    {"seq": 4, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreHaltComplete", "app": "tas-zoom"}},
    {"seq": 5, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreHaltStart", "app": "tas-dummyjobs"}},
    {"seq": 6, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreHaltStart", "app": "tas-uberapply"}},
    {"seq": 7, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreHaltComplete", "app": "hrlabs-fratly"}},
    {"seq": 8, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreHaltComplete", "app": "tas-dummyjobs"}},
    {"seq": 9, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreHaltComplete", "app": "tas-uberapply"}},
    {"seq": 10, "time": "2015-11-05T13:15:30Z", "event": {"kind": "tenantPreHaltComplete"}},
    {"seq": 11, "time": "2015-11-05T13:15:30Z", "event": {"kind": "tenantHaltStart"}},
    {"seq": 12, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appHaltStart", "app": "tas-zoom"}},
    {"seq": 13, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appHaltStart", "app": "hrlabs-fratly"}},
    {"seq": 14, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appHaltComplete", "app": "tas-zoom"}},
    {"seq": 15, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appHaltStart", "app": "tas-dummyjobs"}},
    {"seq": 16, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appHaltStart", "app": "tas-uberapply"}},
    {"seq": 17, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appHaltComplete", "app": "hrlabs-fratly"}},
    {"seq": 18, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appHaltComplete", "app": "tas-dummyjobs"}},
    {"seq": 19, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appHaltComplete", "app": "tas-uberapply"}},
    {"seq": 20, "time": "2015-11-05T13:15:30Z", "event": {"kind": "tenantHaltComplete"}},
    {"seq": 21, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPatchesApplyStart"}},
    {"seq": 22, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appInstallComplete", "app": "tas-tracker"}},
    {"seq": 23, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appInstallComplete", "app": "supersoft-refly"}},
    {"seq": 24, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appEditComplete", "app": "tas-zoom"}},
    {"seq": 25, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appUninstallComplete", "app": "tas-dummyjobs"}},
    {"seq": 26, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPatchesApplyComplete"}},
    {"seq": 27, "time": "2015-11-05T13:15:30Z", "event": {"kind": "tenantPreStartStart"}},
    {"seq": 28, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreStartStart", "app": "tas-zoom"}},
    {"seq": 29, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreStartStart", "app": "hrlabs-fratly"}},
    {"seq": 30, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreStartComplete", "app": "tas-zoom"}},
    {"seq": 31, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreStartComplete", "app": "hrlabs-fratly"}},
    {"seq": 32, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreStartStart", "app": "tas-uberapply"}},
    {"seq": 33, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreStartStart", "app": "tas-tracker"}},
    {"seq": 34, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreStartComplete", "app": "tas-tracker"}},
    {"seq": 35, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreStartStart", "app": "supersoft-refly"}},
    {"seq": 36, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreStartComplete", "app": "tas-uberapply"}},
    {"seq": 37, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appPreStartComplete", "app": "supersoft-refly"}},
    {"seq": 38, "time": "2015-11-05T13:15:30Z", "event": {"kind": "tenantPreStartComplete"}},
    {"seq": 39, "time": "2015-11-05T13:15:30Z", "event": {"kind": "tenantStartStart"}},
    {"seq": 40, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appStartStart", "app": "tas-zoom"}},
    {"seq": 41, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appStartStart", "app": "hrlabs-fratly"}},
    {"seq": 42, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appStartStart", "app": "tas-uberapply"}},
    {"seq": 43, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appStartStart", "app": "tas-tracker"}},
    {"seq": 44, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appStartStart", "app": "supersoft-refly"}},
    {"seq": 45, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appStartComplete", "app": "tas-zoom"}},
    {"seq": 46, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appStartComplete", "app": "hrlabs-fratly"}},
    {"seq": 47, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appStartComplete", "app": "tas-uberapply"}},
    {"seq": 48, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appStartComplete", "app": "tas-tracker"}},
    {"seq": 49, "time": "2015-11-05T13:15:30Z", "event": {"kind": "appStartComplete", "app": "supersoft-refly"}},
    {"seq": 50, "time": "2015-11-05T13:15:30Z", "event": {"kind": "tenantStartComplete"}},
    {"seq": 51, "time": "2015-11-05T13:15:30Z", "event": {"kind": "patchSetApplyRebootComplete"}},
    {"seq": 52, "time": "2015-11-05T13:15:30Z", "event": {"kind": "tenantStatusEvent", "incarnation": 146, "securityGeneration": 10 }}
  ]
}
</code></pre></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="_routes" class="panel-title">/routes</h3></div><div class="panel-body"><div class="top-resource-description"><p>Routes are usages of a specific tenant API, on a specific producing app, by a specific consuming app. Your app needs to first fetch a route in order to consume an API. The route will tell your app about the actual endpoint (where the producer&#39;s server sits on the internet). Routes are also useful to the producer of an API, e.g. to validate the methods (POST, GET, etc.) that the consumer is allowed to call.</p></div><div class="panel-group"><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__routes__CT_"><span class="parent">/routes</span>/{CT}</a> <span class="methods"></span></h4></div><div id="panel__routes__CT_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Consuming tenant: the tenant with the app installed that is consuming the API</p></div><div class="list-group"></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__routes__CT___CAD_"><span class="parent">/routes/{CT}</span>/{CAD}</a> <span class="methods"></span></h4></div><div id="panel__routes__CT___CAD_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Consuming app developer: the developer who owns the app consuming the API</p></div><div class="list-group"></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__routes__CT___CAD___CA_"><span class="parent">/routes/{CT}/{CAD}</span>/{CA}</a> <span class="methods"></span></h4></div><div id="panel__routes__CT___CAD___CA_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Consuming app: the app consuming the API</p></div><div class="list-group"></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__routes__CT___CAD___CA___AD_"><span class="parent">/routes/{CT}/{CAD}/{CA}</span>/{AD}</a> <span class="methods"></span></h4></div><div id="panel__routes__CT___CAD___CA___AD_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>API developer: the developer who owns/defines the API being consumed</p></div><div class="list-group"></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__routes__CT___CAD___CA___AD___URI_"><span class="parent">/routes/{CT}/{CAD}/{CA}/{AD}</span>/{URI}</a> <span class="methods"></span></h4></div><div id="panel__routes__CT___CAD___CA___AD___URI_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>API URI Template: the URI template (as per <a href="https://tools.ietf.org/html/rfc6570">https://tools.ietf.org/html/rfc6570</a>) of the API being consumed</p></div><div class="list-group"></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__routes__CT___CAD___CA___AD___URI___SOT_"><span class="parent">/routes/{CT}/{CAD}/{CA}/{AD}/{URI}</span>/{SOT}</a> <span class="methods"><a href="#_routes__CT___CAD___CA___AD___URI___SOT__get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel__routes__CT___CAD___CA___AD___URI___SOT_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Consuming as Source of Truth: true if the app is consuming this as a source of truth API, otherwise false</p></div><div class="list-group"><div onclick="window.location.href = '#_routes__CT___CAD___CA___AD___URI___SOT__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Fetch the route(s) from the consumer to each producer of a specific API.</p><p>An app may only make this call if:</p><ul><li>its developer and app name match {CAD} and {CA}</li><li>it is installed at {CT}</li><li>it has declared that it consumes the given API, in the given way (SoT or not).</li></ul></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_routes__CT___CAD___CA___AD___URI___SOT__get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/routes/{CT}/{CAD}/{CA}/{AD}/{URI}</span>/{SOT}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Fetch the route(s) from the consumer to each producer of a specific API.</p><p>An app may only make this call if:</p><ul><li>its developer and app name match {CAD} and {CA}</li><li>it is installed at {CT}</li><li>it has declared that it consumes the given API, in the given way (SoT or not).</li></ul></div><ul class="nav nav-tabs"><li class="active"><a href="#_routes__CT___CAD___CA___AD___URI___SOT__get_request" data-toggle="tab">Request</a></li><li><a href="#_routes__CT___CAD___CA___AD___URI___SOT__get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_routes__CT___CAD___CA___AD___URI___SOT__get_request"><h3>URI Parameters</h3><ul><li><strong>CT</strong>: <em>required (string )</em></li><li><strong>CAD</strong>: <em>required (string )</em></li><li><strong>CA</strong>: <em>required (string )</em></li><li><strong>AD</strong>: <em>required (string )</em></li><li><strong>URI</strong>: <em>required (string )</em></li><li><strong>SOT</strong>: <em>required (string )</em></li></ul></div><div class="tab-pane" id="_routes__CT___CAD___CA___AD___URI___SOT__get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "properties": {
        "consumingAppInstall": {
            "$ref": "./routeBase.json#/definitions/installDetail"
        },
        "consumedApi": {
            "$ref": "./routeBase.json#/definitions/consumedApi"
        },
        "producingAppInstalls": {
            "type": "array",
            "items": {
                "$ref": "./routeBase.json#/definitions/installDetail"
            }
        }
    }
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
    "consumingAppInstall": {
        "tenant": "acme",
        "appDeveloper": "tas",
        "app": "jobboardhub",
        "methods": [
            "GET",
            "POST"
        ],
        "securityGeneration": 1409
    },
    "consumedApi": {
        "apiDeveloper": "tas",
        "apiUriTemplate": "/categories",
        "consumedAsSourceOfTruth": false,
        "methods": [
            "GET",
            "POST",
            "DELETE"
        ]
    },
    "producingAppInstalls": [
        {
            "tenant": "seek",
            "appDeveloper": "seek",
            "app": "basecats",
            "endPoint": "https://ref.seek.com:2109/api/v3.2",
            "securityGeneration": 301
        },
        {
            "tenant": "greenjobsite",
            "appDeveloper": "greenjobs",
            "app": "gjcore",
            "endPoint": "https://api.greenjobs.co.nz/v1",
            "securityGeneration": 80
        }
    ]
}
</code></pre></div></div></div></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__routes__CT___CAD___CA___PT_"><span class="parent">/routes/{CT}/{CAD}/{CA}</span>/{PT}</a> <span class="methods"></span></h4></div><div id="panel__routes__CT___CAD___CA___PT_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Producing tenant: the tenant with the app installed that is producing the API</p></div><div class="list-group"></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__routes__CT___CAD___CA___PT___PAD_"><span class="parent">/routes/{CT}/{CAD}/{CA}/{PT}</span>/{PAD}</a> <span class="methods"></span></h4></div><div id="panel__routes__CT___CAD___CA___PT___PAD_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Producing app developer: the developer who owns the app producing the API</p></div><div class="list-group"></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__routes__CT___CAD___CA___PT___PAD___PA_"><span class="parent">/routes/{CT}/{CAD}/{CA}/{PT}/{PAD}</span>/{PA}</a> <span class="methods"></span></h4></div><div id="panel__routes__CT___CAD___CA___PT___PAD___PA_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Producing app: the app producing the API</p></div><div class="list-group"></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__routes__CT___CAD___CA___PT___PAD___PA___AD_"><span class="parent">/routes/{CT}/{CAD}/{CA}/{PT}/{PAD}/{PA}</span>/{AD}</a> <span class="methods"></span></h4></div><div id="panel__routes__CT___CAD___CA___PT___PAD___PA___AD_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>API developer: the developer who owns/defines the API being consumed</p></div><div class="list-group"></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__routes__CT___CAD___CA___PT___PAD___PA___AD___URI_"><span class="parent">/routes/{CT}/{CAD}/{CA}/{PT}/{PAD}/{PA}/{AD}</span>/{URI}</a> <span class="methods"><a href="#_routes__CT___CAD___CA___PT___PAD___PA___AD___URI__get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel__routes__CT___CAD___CA___PT___PAD___PA___AD___URI_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>API URI Template: the URI template (as per <a href="https://tools.ietf.org/html/rfc6570">https://tools.ietf.org/html/rfc6570</a>) of the API being consumed</p></div><div class="list-group"><div onclick="window.location.href = '#_routes__CT___CAD___CA___PT___PAD___PA___AD___URI__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Fetch the route, from the given consumer, to the producer (which must be your app) of a specific API. Since both consuming and producing apps are specified, there can only be one or zero routes in the response.</p><p>An app may only make this call if</p><ul><li>it is installed at {PT}</li><li>it has declared that it consumes the given API (whether as SoT, non-SoT or both)</li></ul></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_routes__CT___CAD___CA___PT___PAD___PA___AD___URI__get"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/routes/{CT}/{CAD}/{CA}/{PT}/{PAD}/{PA}/{AD}</span>/{URI}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Fetch the route, from the given consumer, to the producer (which must be your app) of a specific API. Since both consuming and producing apps are specified, there can only be one or zero routes in the response.</p><p>An app may only make this call if</p><ul><li>it is installed at {PT}</li><li>it has declared that it consumes the given API (whether as SoT, non-SoT or both)</li></ul></div><ul class="nav nav-tabs"><li class="active"><a href="#_routes__CT___CAD___CA___PT___PAD___PA___AD___URI__get_request" data-toggle="tab">Request</a></li><li><a href="#_routes__CT___CAD___CA___PT___PAD___PA___AD___URI__get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_routes__CT___CAD___CA___PT___PAD___PA___AD___URI__get_request"><h3>URI Parameters</h3><ul><li><strong>CT</strong>: <em>required (string )</em></li><li><strong>CAD</strong>: <em>required (string )</em></li><li><strong>CA</strong>: <em>required (string )</em></li><li><strong>PT</strong>: <em>required (string )</em></li><li><strong>PAD</strong>: <em>required (string )</em></li><li><strong>PA</strong>: <em>required (string )</em></li><li><strong>AD</strong>: <em>required (string )</em></li><li><strong>URI</strong>: <em>required (string )</em></li></ul></div><div class="tab-pane" id="_routes__CT___CAD___CA___PT___PAD___PA___AD___URI__get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "properties": {
        "consumingAppInstall": {
            "$ref": "./routeBase.json#/definitions/installDetail"
        },
        "consumedApi": {
            "$ref": "./routeBase.json#/definitions/consumedApi"
        },
        "producingAppInstall": {
            "$ref": "./routeBase.json#/definitions/installDetail"
        }
    }
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
    "consumingAppInstall": {
        "tenant": "acme",
        "appDeveloper": "tas",
        "app": "jobboardhub",
        "methods": [
            "GET",
            "POST"
        ],
        "securityGeneration": 1409
    },
    "consumedApi": {
        "apiDeveloper": "tas",
        "apiUriTemplate": "/categories",
        "consumedAsSourceOfTruth": false,
        "methods": [
            "GET",
            "POST",
            "DELETE"
        ]
    },
    "producingAppInstall": {
        "tenant": "seek",
        "appDeveloper": "seek",
        "app": "basecats",
        "endPoint": "https://ref.seek.com:2109/api/v3.2",
        "securityGeneration": 301
    }
}</code></pre></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="_token" class="panel-title">/token</h3></div><div class="panel-body"><div class="top-resource-description"><p>See <a href="../doc/overview.html#Obtain_an_OAuth_access_token">obtaining an OAuth token</a> for more details.</p><p>TAS OAuth access tokens are self-contained security tokens in the form of a JWT (json web token; see <a href="http://jwt.io/">http://jwt.io/</a>).</p><p>An access token authorizes a specific consuming app to consume APIs at a specific producing app. Tokens may further be personal, i.e. principal-aware, in which case they also identify the end user and include any roles that person has (copied down from the SAML assertion).</p><p>Because access tokens are self-contained and signed, producers can rely on their content without any network traffic to the authorization server (i.e. TAS).</p><p>Every call to this endpoint results in a new access token being issued, with an expiry time set to one hour, or (as per <a href="http://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithSAML.html">http://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithSAML.html</a>) to the time specified in the SAML assertion&#39;s SessionNotOnOrAfter value (if present), whichever is shorter.</p><p>If SessionNotOnOrAfter is in the past then token creation fails, and the app must somehow force the user to reauthenticate.</p><p>For efficiency consumers should cache the tokens returned by this endpoint until (a) the tenant&#39;s security generation number changes, or (b) the cached token is too close to expiry to serve the needs of the consumer.</p></div><div class="panel-group"><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__token"><span class="parent"></span>/token</a> <span class="methods"><a href="#_token_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel__token" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#_token_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Get a new access token, and optionally a refresh token</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_token_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent"></span>/token</h4></div><div class="modal-body"><div class="alert alert-info"><p>Get a new access token, and optionally a refresh token</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_token_post_request" data-toggle="tab">Request</a></li><li><a href="#_token_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_token_post_request"><h3>Query Parameters</h3><ul><li><strong>grant_type</strong>: <em>(string )</em><p>One of:</p><ul><li>client_credentials</li><li>urn:ietf:params:oauth:client-assertion-type:saml2-bearer</li><li>urn:talentappstore.com:oauth2:tas-inherited</li><li>refresh_token</li></ul><p><strong>Example</strong>:</p><pre>refresh_token</pre></li><li><strong>scope</strong>: <em>(string )</em><p>A space separated set of values for the OAuth scope of this token, which may include:</p><ul><li>A string starting with "/" that denotes a consuming app installed at a specific tenant and a producing app installed at a specific tenant (MUST be present for all grant types other than refresh_token)</li><li>the keyword "offline" (MAY be present when grant_type is urn:ietf:params:oauth:client-assertion-type:saml2-bearer and the principal type parameters are present)</li></ul><p><strong>Example</strong>:</p><pre>/acme/smartyhr/ats/greenjobsite/greenjobs/gjcore offline</pre></li><li><strong>refresh_token</strong>: <em>(string )</em><p>A refresh token obtained via a previous call to this endpoint with scope of offline. MUST be present when grant_type is refresh_token. MUST NOT be present for other grant types.</p></li><li><strong>parent_token</strong>: <em>(string )</em><p>An access token passed in to the consuming app. MUST be present when grant_type is urn:talentappstore.com:oauth2:tas-inherited. MUST NOT be present for other grant types.</p></li></ul></div><div class="tab-pane" id="_token_post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "additionalProperties": false,
    "description": "reference to http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html",
    "properties": {
        "sub": {
            "$ref": "./samlSubject.json"
        },
        "cons": {
            "description": "details of the app consuming the API",
            "type": "object",
            "properties": {
                "ct": {
                    "type": "string",
                    "description": "the tenant who has installed the app consuming the API"
                },
                "cad": {
                    "type": "string",
                    "description": "the developer of the app consuming the API"
                },
                "ca": {
                    "type": "string",
                    "description": "the app consuming the API"
                },
                "sgen": {
                    "type": "integer",
                    "description": "the security generation of the tenant"
                }
            },
            "required": [
                "ct",
                "cad",
                "ca",
                "sgen"
            ]
        },
        "aud": {
            "description": "audience - details of the app producing the API",
            "type": "object",
            "properties": {
                "pt": {
                    "type": "string",
                    "description": "the tenant who has installed the app producing the API"
                },
                "pad": {
                    "type": "string",
                    "description": "the developer of the app producing the API"
                },
                "pa": {
                    "type": "string",
                    "description": "the app producing the API"
                },
                "sgen": {
                    "type": "integer",
                    "description": "the security generation of the tenant"
                }
            },
            "required": [
                "pt",
                "pad",
                "pa",
                "sgen"
            ]
        },
        "iat": {
            "type": "string",
            "description": "time the token was issued, as per the spec."
        },
        "exp": {
            "type": "string",
            "description": "time the token expires, as per the spec."
        }
    },
    "required": [
        "cons",
        "aud",
        "iat",
        "exp"
    ]
}
</code></pre><p><strong>Example</strong>:</p><pre><code>{
    "sub": {
        "pd": "tas",
        "pt": "candidate",
        "entityID": "ibmidpuswest-10",
        "nameID": "frank@ibm.com",
        "roles": [ "internal" ]
    },
    "cons": {
        "ct": "acme",
        "cad": "tas",
        "ca": "uberapply",
        "sgen": 219
    },
    "aud": {
        "pt": "acme",
        "pad": "hrsoft",
        "pa": "ats",
        "sgen": 12
    },
    "iat": "31 Dec 2014",
    "exp": "31 Dec 2014"
}
</code></pre></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="_patchSets" class="panel-title">/patchSets</h3></div><div class="panel-body"><div class="panel-group"><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__patchSets"><span class="parent"></span>/patchSets</a> <span class="methods"><a href="#_patchSets_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel__patchSets" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#_patchSets_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>This endpoint behaves exactly as per /tenants/{tenant}/patchSets, except that it creates a tenant rather than applying patches to an existing tenant.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_patchSets_post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent"></span>/patchSets</h4></div><div class="modal-body"><div class="alert alert-info"><p>This endpoint behaves exactly as per /tenants/{tenant}/patchSets, except that it creates a tenant rather than applying patches to an existing tenant.</p></div><ul class="nav nav-tabs"></ul><div class="tab-content"></div></div></div></div></div></div><div class="panel panel-white"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel__patchSets__launchKey_"><span class="parent">/patchSets</span>/{launchKey}</a> <span class="methods"><a href="#_patchSets__launchKey__post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel__patchSets__launchKey_" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#_patchSets__launchKey__post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>This endpoint behaves exactly as per /tenants/{tenant}/patchSets/{launchKey}, except that it works against a tenant-creating patchSet, e.g. initial tenant creation, or copy, rather than a patchSet that is modifying an existing tenant.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="_patchSets__launchKey__post"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/patchSets</span>/{launchKey}</h4></div><div class="modal-body"><div class="alert alert-info"><p>This endpoint behaves exactly as per /tenants/{tenant}/patchSets/{launchKey}, except that it works against a tenant-creating patchSet, e.g. initial tenant creation, or copy, rather than a patchSet that is modifying an existing tenant.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#_patchSets__launchKey__post_request" data-toggle="tab">Request</a></li></ul><div class="tab-content"><div class="tab-pane active" id="_patchSets__launchKey__post_request"><h3>URI Parameters</h3><ul><li><strong>launchKey</strong>: <em>required (string )</em></li></ul></div></div></div></div></div></div></div></div></div></div></div><div class="col-md-3"><div id="sidebar" class="hidden-print affix" role="complementary"><ul class="nav nav-pills nav-stacked"><li><a href="#_tenants">/tenants</a></li><li><a href="#_routes">/routes</a></li><li><a href="#_token">/token</a></li><li><a href="#_patchSets">/patchSets</a></li></ul></div></div></div></div></body></html>