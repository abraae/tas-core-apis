<!DOCTYPE HTML><html><head><title>TAS core incoming (app -&gt; TAS) API documentation</title><meta http-equiv=X-UA-Compatible content="IE=edge"><meta http-equiv=Content-Type content="text/html; charset=utf-8"><meta name=generator content="https://github.com/kevinrenskers/raml2html 1.0.4"><link rel=stylesheet href=http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css><link rel=stylesheet href=http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/default.min.css><script type=text/javascript src=http://code.jquery.com/jquery-1.11.0.min.js></script><script type=text/javascript src=http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js></script><script type=text/javascript src=http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/highlight.min.js></script><script type=text/javascript>
        $(document).ready(function() {
            $('.page-header pre code, .top-resource-description pre code').each(function(i, block) {
                hljs.highlightBlock(block);
            });

            $('[data-toggle]').click(function() {
                var selector = $(this).data('target') + ' pre code';
                $(selector).each(function(i, block) {
                    hljs.highlightBlock(block);
                });
            });
        });
    </script><style>
        .hljs {
            background: transparent;
        }
        .parent {
            color: #999;
        }
        .list-group-item > .badge {
            float: none;
            margin-right: 6px;
        }
        .panel-title > .methods {
            float: right;
        }
        .badge {
            border-radius: 0;
            text-transform: uppercase;
            width: 70px;
            font-weight: normal;
            color: #f3f3f6;
            line-height: normal;
        }
        .badge_get {
            background-color: #63a8e2;
        }
        .badge_post {
            background-color: #6cbd7d;
        }
        .badge_put {
            background-color: #22bac4;
        }
        .badge_delete {
            background-color: #d26460;
        }
        .list-group, .panel-group {
            margin-bottom: 0;
        }
        .panel-group .panel+.panel-white {
            margin-top: 0;
        }
        .panel-group .panel-white {
            border-bottom: 1px solid #F5F5F5;
            border-radius: 0;
        }
        .panel-white:last-child {
            border-bottom-color: white;
            -webkit-box-shadow: none;
            box-shadow: none;
        }
        .panel-white .panel-heading {
            background: white;
        }
        .tab-pane ul {
            padding-left: 2em;
        }
        .tab-pane h2 {
            font-size: 1.2em;
            padding-bottom: 4px;
            border-bottom: 1px solid #ddd;
        }
        .tab-pane h3 {
            font-size: 1.1em;
        }
        .tab-content {
            border-left: 1px solid #ddd;
            border-right: 1px solid #ddd;
            border-bottom: 1px solid #ddd;
            padding: 10px;
        }
        #sidebar {
            margin-top: 30px;
        }
        .top-resource-description {
            border-bottom: 1px solid #ddd;
            background: #fcfcfc;
            padding: 15px 15px 0 15px;
            margin: -15px -15px 10px -15px;
        }
        .resource-description {
            border-bottom: 1px solid #fcfcfc;
            background: #fcfcfc;
            padding: 15px 15px 0 15px;
            margin: -15px -15px 10px -15px;
        }
        .list-group .badge {
            float: left;
        }
        .method_description {
            margin-left: 85px;
        }
        .method_description p:last-child {
            margin: 0;
        }
        .list-group-item {
            cursor: pointer;
        }
        .list-group-item:hover {
            background-color: #f5f5f5;
        }
    </style></head><body data-spy=scroll data-target=#sidebar><div class=container><div class=row><div class=col-md-9 role=main><div class=page-header><h1>TAS core incoming (app -&gt; TAS) API documentation <small>version v1</small></h1><p>http://talentappstore.com/v1</p></div><div class="panel panel-default"><div class=panel-heading><h3 id=_tenants class=panel-title>/tenants</h3></div><div class=panel-body><div class=panel-group><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__tenants__tenant_><span class=parent>/tenants</span>/{tenant}</a> <span class=methods><a href=# data-toggle=modal data-target=#_tenants__tenant__get><span class="badge badge_get">get</span></a></span></h4></div><div id=panel__tenants__tenant_ class="panel-collapse collapse"><div class=panel-body><div class=resource-description><p>A <b>tenant</b> is a customer within the multi-tenanted environment of Talent App Store.</p><p>All core API calls that your app makes to TAS are within the context of a single tenant. TAS does not support API calls between tenants.</p></div><div class=list-group><div data-toggle=modal data-target=#_tenants__tenant__get class=list-group-item><span class="badge badge_get">get</span><div class=method_description><p>Get information about the tenant, including the current status, incarnation and public key. Normally apps would get the incarnation in the request body of the startUp event, so this is mainly useful if your app is restarted, and needs to check what&#39;s been going on while its been offline.</p></div><div class=clearfix></div></div></div></div></div><div class="modal fade" tabindex=0 id=_tenants__tenant__get><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_get">get</span> <span class=parent>/tenants</span>/{tenant}</h4></div><div class=modal-body><div class="alert alert-info"><p>Get information about the tenant, including the current status, incarnation and public key. Normally apps would get the incarnation in the request body of the startUp event, so this is mainly useful if your app is restarted, and needs to check what&#39;s been going on while its been offline.</p></div><ul class="nav nav-tabs"><li class=active><a href=#_tenants__tenant__get_request data-toggle=tab>Request</a></li><li><a href=#_tenants__tenant__get_response data-toggle=tab>Response</a></li></ul><div class=tab-content><div class="tab-pane active" id=_tenants__tenant__get_request><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string)</em></li></ul></div><div class=tab-pane id=_tenants__tenant__get_response><h2>HTTP status code <a href=http://httpstatus.es/200 target=_blank>200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "definitions": {
        "singleValueAttributeOp": {
            "type": "object",
            "description": "operation on a single (non-array) SAML attribute",
            "required": [
                "name",
                "value"
            ],
            "additionalProperties": false,
            "properties": {
                "name": {
                    "type": "string"
                },
                "value": {
                    "type": "string"
                }
            }
        },
        "multiValueAttributeOp": {
            "type": "object",
            "description": "operation on a multi-valued SAML attribute",
            "required": [
                "name",
                "values"
            ],
            "additionalProperties": false,
            "properties": {
                "name": {
                    "type": "string"
                },
                "values": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "attributeOp": {
            "oneOf": [
                {
                    "$ref": "#/definitions/singleValueAttributeOp"
                },
                {
                    "$ref": "#/definitions/multiValueAttributeOp"
                }
            ]
        },
        "ifMatched": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/attributeOp"
            }
        },
        "attributeOverride": {
            "type": "object",
            "required": [
                "filter",
                "ifMatched"
            ],
            "additionalProperties": false,
            "properties": {
                "filter": {
                    "type": "string"
                },
                "ifMatched": {
                    "$ref": "#/definitions/ifMatched"
                }
            }
        },
        "attributeOverrides": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/attributeOverride"
            }
        },
        "id": {
            "type": "integer"
        },
        "description": {
            "type": "string"
        },
        "samlIdentitySource": {
            "type": "object",
            "required": [
                "kind",
                "metadata",
                "description"
            ],
            "additionalProperties": false,
            "properties": {
                "kind": {
                    "enum": [
                        "samlIdentitySource"
                    ],
                    "description": "always set to: samlIdentitySource"
                },
                "id": {
                    "$ref": "#/definitions/id"
                },
                "metadata": {
                    "type": "string"
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "attributeOverrides": {
                    "$ref": "#/definitions/attributeOverrides"
                }
            }
        },
        "emailIdentitySource": {
            "type": "object",
            "required": [
                "kind",
                "description"
            ],
            "additionalProperties": false,
            "properties": {
                "kind": {
                    "enum": [
                        "emailIdentitySource"
                    ],
                    "description": "always set to: emailIdentitySource"
                },
                "id": {
                    "$ref": "#/definitions/id"
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "attributeOverrides": {
                    "$ref": "#/definitions/attributeOverrides"
                }
            }
        },
        "legacyAppIdentitySource": {
            "type": "object",
            "required": [
                "kind",
                "apiBase",
                "description"
            ],
            "additionalProperties": false,
            "properties": {
                "kind": {
                    "enum": [
                        "legacyAppIdentitySource"
                    ],
                    "description": "always set to: legacyAppIdentitySource"
                },
                "id": {
                    "$ref": "#/definitions/id"
                },
                "apiBase": {
                    "type": "string"
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "attributeOverrides": {
                    "$ref": "#/definitions/attributeOverrides"
                }
            }
        },
        "socialIdentitySource": {
            "type": "object",
            "required": [
                "kind",
                "network",
                "description"
            ],
            "additionalProperties": false,
            "properties": {
                "kind": {
                    "enum": [
                        "socialIdentitySource"
                    ],
                    "description": "always set to: socialIdentitySource"
                },
                "id": {
                    "$ref": "#/definitions/id"
                },
                "network": {
                    "enum": [
                        "LinkedIn",
                        "Facebook"
                    ]
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "attributeOverrides": {
                    "$ref": "#/definitions/attributeOverrides"
                }
            }
        },
        "bootstrapIdentitySource": {
            "type": "object",
            "required": [
                "kind"
            ],
            "additionalProperties": false,
            "properties": {
                "kind": {
                    "enum": [
                        "bootstrapIdentitySource"
                    ],
                    "description": "always set to: bootstrapIdentitySource"
                },
                "description": {
                    "$ref": "#/definitions/description"
                },
                "attributeOverrides": {
                    "$ref": "#/definitions/attributeOverrides"
                }
            }
        },
        "identitySources": {
            "type": "array",
            "items": {
                "oneOf": [
                    {
                        "$ref": "#/definitions/samlIdentitySource"
                    },
                    {
                        "$ref": "#/definitions/emailIdentitySource"
                    },
                    {
                        "$ref": "#/definitions/legacyAppIdentitySource"
                    },
                    {
                        "$ref": "#/definitions/socialIdentitySource"
                    },
                    {
                        "$ref": "#/definitions/bootstrapIdentitySource"
                    }
                ]
            }
        },
        "identitySourceSet": {
            "type": "object",
            "properties": {
                "principalDeveloper": {
                    "type": "string"
                },
                "principalType": {
                    "type": "string"
                },
                "identitySources": {
                    "$ref": "#/definitions/identitySources"
                }
            },
            "additionalProperties": false,
            "required": [
                "principalDeveloper",
                "principalType",
                "identitySources"
            ]
        },
        "identitySourceSets": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/identitySourceSet"
            }
        },
        "basicAuthCredentials": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "user",
                "password"
            ],
            "properties": {
                "user": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                }
            }
        },
        "server": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "name",
                "baseUri",
                "basicAuthCredentials"
            ],
            "properties": {
                "name": {
                    "type": "string"
                },
                "baseUri": {
                    "type": "string"
                },
                "basicAuthCredentials": {
                    "$ref": "#/definitions/basicAuthCredentials"
                }
            }
        },
        "servers": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/server"
            }
        },
        "details": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "organizationName": {
                    "type": "string",
                    "description": "The legal name of the organization"
                },
                "shortCode": {
                    "type": "string",
                    "description": "a short, alpha only, lower case identifier for the tenant, e.g. acme"
                },
                "description": {
                    "type": "string",
                    "description": "a description for this store"
                },
                "country": {
                    "type": "string",
                    "description": "the country code for the organization using the store"
                },
                "industry": {
                    "enum": [
                        "Banking",
                        "healthcare",
                        "Hospitality",
                        "IT",
                        "Manufacturing"
                    ],
                    "description": "The industry the organization is mainly in"
                }
            }
        },
        "tenantStatus": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "incarnation": {
                    "type": "integer",
                    "description": "a number representing the &#x27;configuration version&#x27; of this tenant. Incremented on any changes to the installed apps."
                },
                "state": {
                    "enum": [
                        "starting",
                        "running",
                        "halting",
                        "stopped",
                        "broken"
                    ],
                    "description": "The tenant&#x27;s current status. Your app should not make core API calls other than GET /tenants/{tenant} unless the status is &#x27;running&#x27; or &#x27;starting&#x27;."
                }
            }
        },
        "install": {
            "type": "object",
            "required": [
                "app"
            ],
            "additionalProperties": false,
            "properties": {
                "app": {
                    "type": "string"
                },
                "servers": {
                    "$ref": "#/definitions/servers"
                },
                "status": {
                    "$ref": "./tenantInstallsAppStatus.json"
                }
            }
        },
        "installs": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/install"
            }
        }
    },
    "type": "object",
    "additionalProperties": false,
    "properties": {
        "status": {
            "$ref": "#/definitions/tenantStatus"
        },
        "details": {
            "$ref": "#/definitions/details"
        },
        "installs": {
            "$ref": "#/definitions/installs"
        },
        "identitySourceSets": {
            "$ref": "#/definitions/identitySourceSets"
        }
    }
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
    "details": {
        "organizationName": "ACME Corporation",
        "shortCode": "acme",
        "description": "A test site while we see if this stuff works",
        "country": "US",
        "industry": "Manufacturing"
    },
    "status": {
        "incarnation": 23,
        "state": "halting"
    },
    "installs": [
        {
            "app": "tas-storefront",
            "servers": [
                {
                    "name": "ats0",
                    "baseUri": "https://acme.atszero.com",
                    "basicAuthCredentials": {
                        "user": "fred",
                        "password": "secret1"
                    }
                }
            ],
            "status": {
              "state": "running",
              "publicKey": "876oihiu5yfd864g0ouiyfgi75"
            }
        }
    ],
    "identitySourceSets": [
        {
            "principalDeveloper": "tas",
            "principalType": "user",
            "identitySources": [
                {
                    "kind": "bootstrapIdentitySource",
                    "description": "The store owner automatically gets access to manage the store",
                    "attributeOverrides": [
                        {
                            "filter": "*",
                            "ifMatched": [
                                {
                                    "name": "tas-user-roles",
                                    "values": [
                                        "hrStoreIdentityAdmin",
                                        "hrStoreAppsAdmin",
                                        "hrStoreViewer"
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "kind": "legacyAppIdentitySource",
                    "id": 10034544,
                    "description": "Everyone who already has accounts in the legacy ATS (acting here as an IdP). The response of /me from the ATS contains things like \"tas-candidate-type\": [\"internal\"], passed through from the ATS&#x27;s own records",
                    "apiBase": "https://acme.legacyats.com/tasapi/v1/candidateIdentityTest"
                },
                {
                    "kind": "samlIdentitySource",
                    "id": 10034545,
                    "description": "Everyone in the corporate IdP. We force mark all such people as internal",
                    "metadata": "https://acme.corpsso.com/blah",
                    "attributeOverrides": [
                        {
                            "filter": "*",
                            "ifMatched": [
                                {
                                    "name": "tas-candidate-type",
                                    "value": "internal"
                                }
                            ]
                        }
                    ]
                },
                {
                    "kind": "samlIdentitySource",
                    "id": 10034546,
                    "description": "Everyone in the ATS vendor&#x27;s support team. These people are all marked as internal, so they can test internal-facing content etc.",
                    "metadata": "https://atsupport.com/idp",
                    "attributeOverrides": [
                        {
                            "filter": "*",
                            "ifMatched": [
                                {
                                    "name": "tas-candidate-type",
                                    "value": "internal"
                                }
                            ]
                        }
                    ]
                },
                {
                    "kind": "samlIdentitySource",
                    "id": 10034547,
                    "description": "RealMe (since acme is public sector)",
                    "metadata": "https://realme.nz/blah",
                    "attributeOverrides": [
                        {
                            "filter": "email like &#x27;*@acme.com&#x27;",
                            "ifMatched": [
                                {
                                    "name": "tas-candidate-type",
                                    "value": "internal"
                                }
                            ]
                        }
                    ]
                },
                {
                    "kind": "emailIdentitySource",
                    "id": 10034548,
                    "description": "Email people. Marked as internals if they have an email matching the corporate pattern",
                    "attributeOverrides": [
                        {
                            "filter": "email like &#x27;*@acme.com&#x27;",
                            "ifMatched": [
                                {
                                    "name": "tas-candidate-type",
                                    "value": "internal"
                                }
                            ]
                        }
                    ]
                },
                {
                    "kind": "socialIdentitySource",
                    "id": 10034549,
                    "network": "LinkedIn",
                    "description": "LinkedIn people. Marked as internals if they have an email matching the corporate pattern",
                    "attributeOverrides": [
                        {
                            "filter": "email like &#x27;*@acme.com&#x27;",
                            "ifMatched": [
                                {
                                    "name": "tas-candidate-type",
                                    "value": "internal"
                                }
                            ]
                        },
                        {
                            "filter": "groups contains &#x27;Official ACME alumni group&#x27;",
                            "ifMatched": [
                                {
                                    "name": "tas-candidate-tags",
                                    "values": [
                                        "alumni"
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}</code></pre></div></div></div></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__tenants__tenant__samlSubjects><span class=parent>/tenants/{tenant}</span>/samlSubjects</a> <span class=methods></span></h4></div><div id=panel__tenants__tenant__samlSubjects class="panel-collapse collapse"><div class=panel-body><div class=resource-description><p>A samlSubject is the primary key, assembled from information in the SAML assertion from the IdP, of the current logged in user. The samlSubject is useful when your app wants to get some more detail about the user such as their name, email, etc, by calling SCIM APIs like /employees/{samlSubject}, etc. - these APIs require a samlSubject.</p><p>By "current logged in user", we mean someone logged into this app (if this app is an SSO-protected app) or another app higher up the chain (if this app is an API server producing an OAuth API).</p><p>samlSubject is a string made up of values extracted from the SAML authentication assertion information that was captured by TAS when this user logged in to an SSO-protected app, likely to include:<ul><li>NameID</li><li>NameQualifier</li><li>EntityID of the issuing IdP</li></ul></p><p>The actual SAML items above are not yet confirmed, nor do we have a any standard approach to requesting them in SAML assertions or extracting them from SAML assertions. But in any case the set will uniquely identify the user, even across multiple possible authenticating IdPs. For example, "candidates" may be held across a number of IdPs, including corporate IdP (internal candidates), Facebook pseudo-IdP, etc.</p><p>samlSubjects are identical across all SP&#39;s (i.e., all TAS SSO-protected apps), so that apps can correlate the user&#39;s identity (i.e. they each have the same understanding of who a user is). This means that transient SAML identifiers for example cannot be used.</p><p>API servers can extract the samlSubject from the sub field of the incoming OAuth access token.</p><p>Because access tokens are generated and signed by TAS, the user&#39;s identity can be passed securely down through a chain of OAuth API calls, while preventing malicious apps from acting on behalf of a user who has not logged in.</p><p>Each producing app in the chain gets their chance to enforce their own business rules and make further tenant API calls on behalf of the logged in user.</p></div><div class=list-group></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__tenants__tenant__samlSubjects_viaSamlAssertion><span class=parent>/tenants/{tenant}/samlSubjects</span>/viaSamlAssertion</a> <span class=methods><a href=# data-toggle=modal data-target=#_tenants__tenant__samlSubjects_viaSamlAssertion_post><span class="badge badge_post">post</span></a></span></h4></div><div id=panel__tenants__tenant__samlSubjects_viaSamlAssertion class="panel-collapse collapse"><div class=panel-body><div class=list-group><div data-toggle=modal data-target=#_tenants__tenant__samlSubjects_viaSamlAssertion_post class=list-group-item><span class="badge badge_post">post</span><div class=method_description><p>If your app is an SSO-protected web site, then it can exchange the SAML authentication assertion that it received at login time for the samlSubject by using this endpoint and passing the assertion as the request body.</p></div><div class=clearfix></div></div></div></div></div><div class="modal fade" tabindex=0 id=_tenants__tenant__samlSubjects_viaSamlAssertion_post><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_post">post</span> <span class=parent>/tenants/{tenant}/samlSubjects</span>/viaSamlAssertion</h4></div><div class=modal-body><div class="alert alert-info"><p>If your app is an SSO-protected web site, then it can exchange the SAML authentication assertion that it received at login time for the samlSubject by using this endpoint and passing the assertion as the request body.</p></div><ul class="nav nav-tabs"><li class=active><a href=#_tenants__tenant__samlSubjects_viaSamlAssertion_post_request data-toggle=tab>Request</a></li><li><a href=#_tenants__tenant__samlSubjects_viaSamlAssertion_post_response data-toggle=tab>Response</a></li></ul><div class=tab-content><div class="tab-pane active" id=_tenants__tenant__samlSubjects_viaSamlAssertion_post_request><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string)</em></li></ul><h3>Body</h3><p><strong>Type: application/xml</strong></p></div><div class=tab-pane id=_tenants__tenant__samlSubjects_viaSamlAssertion_post_response><h2>HTTP status code <a href=http://httpstatus.es/200 target=_blank>200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
  "$schema":"http://json-schema.org/draft-04/schema#",
  "type":"object",
  "description":"A set of SAML values that uniquely identify this person, consistently across TAS apps, and with any number of potential IdPs",
  "required":[
    "nameID",
    "nameQualifier",
    "entityID"
  ],
  "properties":{
    "nameID":{
      "type":"string"
    },
    "nameQualifier":{
      "type":"string"
    },
    "entityID":{
      "type":"string"
    }
    
  }
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
	  "nameID": "frank@ibm.com",
	  "nameQualifier": "someibmidp",
	  "entityID": "some other SAML info"
}</code></pre></div></div></div></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__tenants__tenant__routes><span class=parent>/tenants/{tenant}</span>/routes</a> <span class=methods></span></h4></div><div id=panel__tenants__tenant__routes class="panel-collapse collapse"><div class=panel-body><div class=resource-description><p>Routes are usages of a specific tenant API, on a specific producing app, by a specific consuming app.</p><p>Your app needs to first fetch a route in order to consume an API. The route will tell your app:<ul><li>The actual endpoint (where the producer&#39;s server sits on the internet)</li><li>For non-OAuth APIs, whether the producer is using HMAC or basic auth, and the actual credentials themselves.</li></ul></p><p>Routes are also useful to the producer of an API, e.g. to validate the methods (POST, GET, etc.) that the consumer is allowed to call.</p><p>For SoT APIs, there can be only one producing app, and hence only one route per consumer; for non-SoT APIs, there can be many consumers and many producers, and hence a route between each unique consumer/producer pair.</p></div><div class=list-group></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__tenants__tenant__routes__consumingApp_><span class=parent>/tenants/{tenant}/routes</span>/{consumingApp}</a> <span class=methods></span></h4></div><div id=panel__tenants__tenant__routes__consumingApp_ class="panel-collapse collapse"><div class=panel-body><div class=resource-description><p>The app consuming the API</p></div><div class=list-group></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__tenants__tenant__routes__consumingApp___apiDeveloper_><span class=parent>/tenants/{tenant}/routes/{consumingApp}</span>/{apiDeveloper}</a> <span class=methods></span></h4></div><div id=panel__tenants__tenant__routes__consumingApp___apiDeveloper_ class="panel-collapse collapse"><div class=panel-body><div class=resource-description><p>The developer who owns/defines the API</p></div><div class=list-group></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate_><span class=parent>/tenants/{tenant}/routes/{consumingApp}/{apiDeveloper}</span>/{apiUriTemplate}</a> <span class=methods><a href=# data-toggle=modal data-target=#_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate__get><span class="badge badge_get">get</span></a></span></h4></div><div id=panel__tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate_ class="panel-collapse collapse"><div class=panel-body><div class=resource-description><p>The URI template (as per <a href=https://tools.ietf.org/html/rfc6570>https://tools.ietf.org/html/rfc6570</a>) of the API.</p></div><div class=list-group><div data-toggle=modal data-target=#_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate__get class=list-group-item><span class="badge badge_get">get</span><div class=method_description><p>Fetch the route(s), from the consumer (which must be your app), to each producer of a specific API. The example below is for a non-OAuth, non-SoT API.</p></div><div class=clearfix></div></div></div></div></div><div class="modal fade" tabindex=0 id=_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate__get><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_get">get</span> <span class=parent>/tenants/{tenant}/routes/{consumingApp}/{apiDeveloper}</span>/{apiUriTemplate}</h4></div><div class=modal-body><div class="alert alert-info"><p>Fetch the route(s), from the consumer (which must be your app), to each producer of a specific API. The example below is for a non-OAuth, non-SoT API.</p></div><ul class="nav nav-tabs"><li class=active><a href=#_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate__get_request data-toggle=tab>Request</a></li><li><a href=#_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate__get_response data-toggle=tab>Response</a></li></ul><div class=tab-content><div class="tab-pane active" id=_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate__get_request><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string)</em></li><li><strong>consumingApp</strong>: <em>required (string)</em></li><li><strong>apiDeveloper</strong>: <em>required (string)</em></li><li><strong>apiUriTemplate</strong>: <em>required (string)</em></li></ul></div><div class=tab-pane id=_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate__get_response><h2>HTTP status code <a href=http://httpstatus.es/200 target=_blank>200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
	"$schema":"http://json-schema.org/draft-04/schema#",
	"type":"object",
	"additionalProperties":false,
	"properties":{
		"kind":{
			"enum":[
				"routes"
			],
			"description":"always set to: routes"
		},
		"items":{
			"type":"array",
			"items":{
				"oneOf":[
					{
						"$ref":"route.json"
					}
				]
			}
			
		}
		
	},
	"required":[
		"kind",
		"items"
	]
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
    "kind": "routes",
    "items": [
        {
            "kind": "route",
            "consumer": "tas-jobboard",
            "producer": "hrlabs-crazyjobs",
            "location": "https://acme.crazyjobs.com:2109/api/v3.2",
            "auth": {
                "kind": "hmacAuth",
                "hmacCredentials": {
                    "signingKey": "k8763216548hppou",
                    "expires": "2014-10-21T15:04:30Z"
                }
            },
            "consumedMethods": [
                "POST",
                "DELETE"
            ]
        },
        {
            "kind": "route",
            "consumer": "tas-jobboard",
            "producer": "hrlabs-jobcopier",
            "location": "https://jobcopier.com:2102/acme/api/v3/custApis",
            "auth": {
                "kind": "basicAuth",
                "basicAuthCredentials": {
                    "user": "barry@ibm.com",
                    "password": "secret1",
                    "expires": "2014-10-21T15:04:30Z"
                }
            },
            "consumedMethods": [
                "POST",
                "DELETE"
            ]
        }
    ]
}</code></pre></div></div></div></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer_><span class=parent>/tenants/{tenant}/routes/{consumingApp}/{apiDeveloper}/{apiUriTemplate}</span>/{producer}</a> <span class=methods><a href=# data-toggle=modal data-target=#_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__get><span class="badge badge_get">get</span></a></span></h4></div><div id=panel__tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer_ class="panel-collapse collapse"><div class=panel-body><div class=list-group><div data-toggle=modal data-target=#_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__get class=list-group-item><span class="badge badge_get">get</span><div class=method_description><p>Fetch the route, from the given consumer, to the producer (which must be your app) of a specific API. Since both consuming and producing apps are specified, there can only be one or zero routes in the response.</p></div><div class=clearfix></div></div></div></div></div><div class="modal fade" tabindex=0 id=_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__get><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_get">get</span> <span class=parent>/tenants/{tenant}/routes/{consumingApp}/{apiDeveloper}/{apiUriTemplate}</span>/{producer}</h4></div><div class=modal-body><div class="alert alert-info"><p>Fetch the route, from the given consumer, to the producer (which must be your app) of a specific API. Since both consuming and producing apps are specified, there can only be one or zero routes in the response.</p></div><ul class="nav nav-tabs"><li class=active><a href=#_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__get_request data-toggle=tab>Request</a></li><li><a href=#_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__get_response data-toggle=tab>Response</a></li></ul><div class=tab-content><div class="tab-pane active" id=_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__get_request><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string)</em></li><li><strong>consumingApp</strong>: <em>required (string)</em></li><li><strong>apiDeveloper</strong>: <em>required (string)</em></li><li><strong>apiUriTemplate</strong>: <em>required (string)</em></li><li><strong>producer</strong>: <em>required (string)</em></li></ul></div><div class=tab-pane id=_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__get_response><h2>HTTP status code <a href=http://httpstatus.es/200 target=_blank>200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "definitions": {
    	"consumedMethods": {
    		"description": "The subset of the methods available on this API that the consumer has declared that they use.",
    		"type": "array",
    		"uniqueItems": true,
    		"items":  {
                    "enum": [
                        "HEAD", "GET", "DELETE", "PATCH", "POST", "PUT"
                    ]
                } 
    	},
        "hmacCredentials": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "signingKey",
                "expires"
            ],
            "properties": {
                "signingKey": {
                    "type": "string"
                },
                "expires": {
                    "type": "string",
                    "format": "date-time"
                }
            }
        },
        "basicAuthCredentials": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "user",
                "password",
                "expires"
            ],
            "properties": {
                "user": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                },
                "expires": {
                    "type": "string",
                    "format": "date-time"
                }
            }
        },
        "authChoices": {
            "oneOf": [
                {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                        "kind",
                        "hmacCredentials"
                    ],
                    "properties": {
                        "kind": {
                            "enum": [
                                "hmacAuth"
                            ]
                        },
                        "hmacCredentials": {
                            "$ref": "#/definitions/hmacCredentials"
                        }
                    }
                },
                {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                        "kind",
                        "basicAuthCredentials"
                    ],
                    "properties": {
                        "kind": {
                            "enum": [
                                "basicAuth"
                            ]
                        },
                        "basicAuthCredentials": {
                            "$ref": "#/definitions/basicAuthCredentials"
                        }
                    }
                },
                {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                        "kind"
                    ],
                    "properties": {
                        "kind": {
                            "enum": [
                                "oauthAuth"
                            ]
                        }
                    }
                }
            ]
        }
    },
    "type": "object",
    "additionalProperties": false,
    "required": [
        "kind",
        "producer",
        "location",
        "auth",
        "consumedMethods"
    ],
    "properties": {
        "kind": {
            "enum": [
                "route"
            ],
            "description": "always set to: route"
        },
        "consumer": {
            "type": "string",
            "description": "the app consuming this API"
        },
        "producer": {
            "type": "string",
            "description": "the app producing this API"
        },
        "location": {
            "type": "string",
            "description": "a URI template as per RFC 6570 which has had the template parameter replaced with the actual value for this tenant, and that should be used to prefix the API URI to make the call"
        },
        "auth": {
            "$ref": "#/definitions/authChoices"
        },
        "consumedMethods": {
            "$ref": "#/definitions/consumedMethods"
        }
    }
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
  "kind":"route",
  "consumer":"tas-jobboard",
  "producer":"hrlabs-crazyjobs",
  "location":"https://acme.crazyjobs.com:2109/api/v3.2",
  "auth":{
    "kind":"hmacAuth",
    "hmacCredentials":{
      "signingKey":"k8763216548hppou",
      "expires":"2014-10-21T15:04:30Z"
    }
  },
  "consumedMethods":[
    "POST",
    "DELETE"
  ]
}</code></pre></div></div></div></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens><span class=parent>/tenants/{tenant}/routes/{consumingApp}/{apiDeveloper}/{apiUriTemplate}/{producer}</span>/tokens</a> <span class=methods></span></h4></div><div id=panel__tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens class="panel-collapse collapse"><div class=panel-body><div class=resource-description><p>OAuth tokens are self-contained security tokens in the form of a JWT (json web token; see <a href=http://www.intridea.com/blog/2013/11/7/json-web-token-the-useful-little-standard-you-haven-t-heard-about>http://www.intridea.com/blog/2013/11/7/json-web-token-the-useful-little-standard-you-haven-t-heard-about</a> and <a href="http://jwt.io/">http://jwt.io/</a>): a) that authorizes a specific consuming app to consume a specific OAuth tenant API at a specific producing app.</p><p>Because access tokens are self-contained and signed, producers can rely on their content without any network traffic to the authorization server (i.e. TAS).</p><p>Every call to this endpoint results in a new token being issued, with an expiry time set to either one hour, or (as per <a href=http://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithSAML.html>http://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithSAML.html</a>) to the time specified in the SAML assertion&#39;s SessionNotOnOrAfter value (if present), whichever is shorter.</p><p>If SessionNotOnOrAfter is in the past then token creation fails, and the app must somehow force the user to reauthenticate. For efficiency consumers should cache the tokens returned by this endpoint until (a) the app is restarted, or (b) the cached token is too close to expiry to serve the needs of the consumer.</p></div><div class=list-group></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaSso__principalAuthnID_><span class=parent>/tenants/{tenant}/routes/{consumingApp}/{apiDeveloper}/{apiUriTemplate}/{producer}/tokens/viaSso</span>/{principalAuthnID}</a> <span class=methods><a href=# data-toggle=modal data-target=#_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaSso__principalAuthnID__post><span class="badge badge_post">post</span></a></span></h4></div><div id=panel__tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaSso__principalAuthnID_ class="panel-collapse collapse"><div class=panel-body><div class=resource-description><p>The id of the current authentication, as passed to your app&#39;s SSO-protected web site (see details of authentication).</p></div><div class=list-group><div data-toggle=modal data-target=#_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaSso__principalAuthnID__post class=list-group-item><span class="badge badge_post">post</span><div class=method_description><p>Called by your app to obtain an OAuth token to consume the API of the given route, for the given principal.</p></div><div class=clearfix></div></div></div></div></div><div class="modal fade" tabindex=0 id=_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaSso__principalAuthnID__post><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_post">post</span> <span class=parent>/tenants/{tenant}/routes/{consumingApp}/{apiDeveloper}/{apiUriTemplate}/{producer}/tokens/viaSso</span>/{principalAuthnID}</h4></div><div class=modal-body><div class="alert alert-info"><p>Called by your app to obtain an OAuth token to consume the API of the given route, for the given principal.</p></div><ul class="nav nav-tabs"><li class=active><a href=#_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaSso__principalAuthnID__post_request data-toggle=tab>Request</a></li><li><a href=#_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaSso__principalAuthnID__post_response data-toggle=tab>Response</a></li></ul><div class=tab-content><div class="tab-pane active" id=_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaSso__principalAuthnID__post_request><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string)</em></li><li><strong>consumingApp</strong>: <em>required (string)</em></li><li><strong>apiDeveloper</strong>: <em>required (string)</em></li><li><strong>apiUriTemplate</strong>: <em>required (string)</em></li><li><strong>producer</strong>: <em>required (string)</em></li><li><strong>principalAuthnID</strong>: <em>required (string)</em></li></ul></div><div class=tab-pane id=_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaSso__principalAuthnID__post_response><h2>HTTP status code <a href=http://httpstatus.es/200 target=_blank>200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
	"$schema":"http://json-schema.org/draft-04/schema#",
	"type":"object",
	"additionalProperties":false,
	"description":"reference to http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html",
	"properties":{
		"sub":{ "$ref": "../samlSubject.json"	},
		"cons":{
			"type":"string",
			"description":"the app consuming the API"
		},
		"dev":{
			"type":"string",
			"description":"developer who owns/defines the API"
		},
		"uri":{
			"type":"string",
			"description":"URI template of the API"
		},
		"aud":{
			"type":"string",
			"description":"audience - the app producing the API, i.e. the one consuming the token"
		},
		"inc":{
			"type":"integer",
			"description":"incarnation of the tenant (store) at the time the token was issued"
		},
		"iat":{
			"type":"string",
			"description":"time the token was issued, as per the spec."
		},
		"exp":{
			"type":"string",
			"description":"time the token expires, as per the spec."
		}
		
	},
	"required":[
		"sub",
		"cons",
		"dev",
		"uri",
		"aud",
		"inc",
		"iat",
		"exp"
	]
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
	"sub": {
	  "nameID": "frank@ibm.com",
	  "nameQualifier": "someibmidp",
	  "entityID": "some more SAML info"
	},
	"cons": "tas-uberapply",
	"dev": "tas",
	"uri": "/positionOpenings/{positionId}",
	"aud": "tas-ats",
	"inc": 24,
	"iat": "31 Dec 1999",
	"exp": "31 Dec 1999"
}
</code></pre></div></div></div></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaToken__accessToken_><span class=parent>/tenants/{tenant}/routes/{consumingApp}/{apiDeveloper}/{apiUriTemplate}/{producer}/tokens/viaToken</span>/{accessToken}</a> <span class=methods><a href=# data-toggle=modal data-target=#_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaToken__accessToken__post><span class="badge badge_post">post</span></a></span></h4></div><div id=panel__tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaToken__accessToken_ class="panel-collapse collapse"><div class=panel-body><div class=resource-description><p>The OAuth access token (a JWT) passed in to the producing app, which has:<ul><li>the producing app as the "aud" field</li><li>the principal via its "sub" field</li></ul></p><p>New tokens generated form this endpoint have no relationship to their ancestor tokens - e.g., if the ancestor token expires, that does not tokens created from it.</p></div><div class=list-group><div data-toggle=modal data-target=#_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaToken__accessToken__post class=list-group-item><span class="badge badge_post">post</span><div class=method_description><p>Called by your app to obtain an OAuth token to consume the API of the given route, for the given principal.</p></div><div class=clearfix></div></div></div></div></div><div class="modal fade" tabindex=0 id=_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaToken__accessToken__post><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_post">post</span> <span class=parent>/tenants/{tenant}/routes/{consumingApp}/{apiDeveloper}/{apiUriTemplate}/{producer}/tokens/viaToken</span>/{accessToken}</h4></div><div class=modal-body><div class="alert alert-info"><p>Called by your app to obtain an OAuth token to consume the API of the given route, for the given principal.</p></div><ul class="nav nav-tabs"><li class=active><a href=#_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaToken__accessToken__post_request data-toggle=tab>Request</a></li><li><a href=#_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaToken__accessToken__post_response data-toggle=tab>Response</a></li></ul><div class=tab-content><div class="tab-pane active" id=_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaToken__accessToken__post_request><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string)</em></li><li><strong>consumingApp</strong>: <em>required (string)</em></li><li><strong>apiDeveloper</strong>: <em>required (string)</em></li><li><strong>apiUriTemplate</strong>: <em>required (string)</em></li><li><strong>producer</strong>: <em>required (string)</em></li><li><strong>accessToken</strong>: <em>required (string)</em></li></ul></div><div class=tab-pane id=_tenants__tenant__routes__consumingApp___apiDeveloper___apiUriTemplate___producer__tokens_viaToken__accessToken__post_response><h2>HTTP status code <a href=http://httpstatus.es/200 target=_blank>200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
	"$schema":"http://json-schema.org/draft-04/schema#",
	"type":"object",
	"additionalProperties":false,
	"description":"reference to http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html",
	"properties":{
		"sub":{ "$ref": "../samlSubject.json"	},
		"cons":{
			"type":"string",
			"description":"the app consuming the API"
		},
		"dev":{
			"type":"string",
			"description":"developer who owns/defines the API"
		},
		"uri":{
			"type":"string",
			"description":"URI template of the API"
		},
		"aud":{
			"type":"string",
			"description":"audience - the app producing the API, i.e. the one consuming the token"
		},
		"inc":{
			"type":"integer",
			"description":"incarnation of the tenant (store) at the time the token was issued"
		},
		"iat":{
			"type":"string",
			"description":"time the token was issued, as per the spec."
		},
		"exp":{
			"type":"string",
			"description":"time the token expires, as per the spec."
		}
		
	},
	"required":[
		"sub",
		"cons",
		"dev",
		"uri",
		"aud",
		"inc",
		"iat",
		"exp"
	]
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
	"sub": {
	  "nameID": "frank@ibm.com",
	  "nameQualifier": "someibmidp",
	  "entityID": "some more SAML info"
	},
	"cons": "tas-uberapply",
	"dev": "tas",
	"uri": "/positionOpenings/{positionId}",
	"aud": "tas-ats",
	"inc": 24,
	"iat": "31 Dec 1999",
	"exp": "31 Dec 1999"
}
</code></pre></div></div></div></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__tenants__tenant__patchSets><span class=parent>/tenants/{tenant}</span>/patchSets</a> <span class=methods><a href=# data-toggle=modal data-target=#_tenants__tenant__patchSets_post><span class="badge badge_post">post</span></a></span></h4></div><div id=panel__tenants__tenant__patchSets class="panel-collapse collapse"><div class=panel-body><div class=list-group><div data-toggle=modal data-target=#_tenants__tenant__patchSets_post class=list-group-item><span class="badge badge_post">post</span><div class=method_description><p>This endpoint is available only to apps tagged as "storeFront".</p><p>Your app calls this endpoint to validate a patch document and prepare it for launching, typically from a browser.</p><p>If your patch document validates successfully, a launcher JWT is returned that embeds the patch document, and your continue page.</p><p>The JWT is signed with the tenant&#39;s signing key, and can be safely handed off to an insecure client, i.e. javascript in a web browser, which will use it in an ajax call to PATCH /{tenant}.</p><p>Launchers also expire 10 minutes after being issued. Launchers are meant to be used immediately.</p><p>Note: the schema and example do not show the JWT-specific fields, including the "exp" field which is set to 10 minutes in the future.</p></div><div class=clearfix></div></div></div></div></div><div class="modal fade" tabindex=0 id=_tenants__tenant__patchSets_post><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_post">post</span> <span class=parent>/tenants/{tenant}</span>/patchSets</h4></div><div class=modal-body><div class="alert alert-info"><p>This endpoint is available only to apps tagged as "storeFront".</p><p>Your app calls this endpoint to validate a patch document and prepare it for launching, typically from a browser.</p><p>If your patch document validates successfully, a launcher JWT is returned that embeds the patch document, and your continue page.</p><p>The JWT is signed with the tenant&#39;s signing key, and can be safely handed off to an insecure client, i.e. javascript in a web browser, which will use it in an ajax call to PATCH /{tenant}.</p><p>Launchers also expire 10 minutes after being issued. Launchers are meant to be used immediately.</p><p>Note: the schema and example do not show the JWT-specific fields, including the "exp" field which is set to 10 minutes in the future.</p></div><ul class="nav nav-tabs"><li class=active><a href=#_tenants__tenant__patchSets_post_request data-toggle=tab>Request</a></li><li><a href=#_tenants__tenant__patchSets_post_response data-toggle=tab>Response</a></li></ul><div class=tab-content><div class="tab-pane active" id=_tenants__tenant__patchSets_post_request><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string)</em></li></ul><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "properties": {
       "continuePage": { "type": "string", "description": "the URI that your storefront app thinks the user should be redirected to on patch completion, unless some other storefront app gets installed and hence makes that decision" },
       "patchSet": { "$ref": "./patchSet.json"}
       },
       "required": ["patchSet" ]
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
    "continuePage": "https://storefront.com/apps/zwango",
    "patchSet": [
        {
            "op": "test",
            "path": "status.incarnation",
            "value": 23
        },
        {
            "op": "add",
            "path": "installs",
            "value": {
                "app": "hrsoft-zwango"
            }
        }
    ]
}</code></pre></div><div class=tab-pane id=_tenants__tenant__patchSets_post_response><h2>HTTP status code <a href=http://httpstatus.es/200 target=_blank>200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "definitions": {
        "op": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "op",
                "path",
                "value"
            ],
            "properties": {
                "op": {
                    "enum": [
                        "add",
                        "remove",
                        "move",
                        "copy",
                        "replace",
                        "test"
                    ]
                },
                "path": {
                    "type": "string"
                },
                "value": {
                    "oneOf": [
                        {
                            "type": "string",
                            "description": "allow patching any string attribute"
                        },
                        {
                            "type": "number",
                            "description": "allow patching any number attribute"
                        },
                        {
                            "$ref": "./tenant.json"
                        },
                        {
                            "$ref": "./tenant.json#/definitions/install"
                        },
                        {
                            "$ref": "./tenant.json#/definitions/installs"
                        },
                        {
                            "$ref": "./tenant.json#/definitions/servers"
                        }
                        
                    ]
                }
            }
        }
    },
    "type": "array",
    "items": {"$ref": "#/definitions/op"}
}</code></pre><p><strong>Example</strong>:</p><pre><code>[
  { "op": "test", "path": "/incarnation", "value": 23 },
  { "op": "add", "path": "/installs/-", "value": { "app": "zwarg-zongo" } }
]
</code></pre></div></div></div></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__tenants__tenant__patchSetLaunches><span class=parent>/tenants/{tenant}</span>/patchSetLaunches</a> <span class=methods><a href=# data-toggle=modal data-target=#_tenants__tenant__patchSetLaunches_post><span class="badge badge_post">post</span></a></span></h4></div><div id=panel__tenants__tenant__patchSetLaunches class="panel-collapse collapse"><div class=panel-body><div class=list-group><div data-toggle=modal data-target=#_tenants__tenant__patchSetLaunches_post class=list-group-item><span class="badge badge_post">post</span><div class=method_description><p>This endpoint is only useful to apps tagged as "storeFront".</p><p>Launch the patch operation as contained in the launcher JWT obtained from a previous call to POST /patchSets.</p><p>This endpoint is unauthenticated and has CORS headers that allow access from any domain (since the javascript calling it belongs to a storefront app which does not share the same domain as the tas core).</p><p>The response body is an unguessable unique "launch key" which can be used with GET /patchSetLaunches/{launchKey}.</p></div><div class=clearfix></div></div></div></div></div><div class="modal fade" tabindex=0 id=_tenants__tenant__patchSetLaunches_post><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_post">post</span> <span class=parent>/tenants/{tenant}</span>/patchSetLaunches</h4></div><div class=modal-body><div class="alert alert-info"><p>This endpoint is only useful to apps tagged as "storeFront".</p><p>Launch the patch operation as contained in the launcher JWT obtained from a previous call to POST /patchSets.</p><p>This endpoint is unauthenticated and has CORS headers that allow access from any domain (since the javascript calling it belongs to a storefront app which does not share the same domain as the tas core).</p><p>The response body is an unguessable unique "launch key" which can be used with GET /patchSetLaunches/{launchKey}.</p></div><ul class="nav nav-tabs"><li class=active><a href=#_tenants__tenant__patchSetLaunches_post_request data-toggle=tab>Request</a></li><li><a href=#_tenants__tenant__patchSetLaunches_post_response data-toggle=tab>Response</a></li></ul><div class=tab-content><div class="tab-pane active" id=_tenants__tenant__patchSetLaunches_post_request><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string)</em></li></ul><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
	"$schema":"http://json-schema.org/draft-04/schema#",
	"type":"object",
	"additionalProperties":false,
	"description":"reference to http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html",
	"properties":{
		"aud": { "type": "string", "description": "probably should be set to the name of the storefront app that requested this launcher"},
		"prep":{ "$ref": "./patchSetPreparer.json" },
		"iat":{
			"type":"string",
			"description":"time the token was issued, as per the spec."
		},
		"exp":{
			"type":"string",
			"description":"time the token expires, as per the spec."
		}
	},
	"required":[
		"prep",
		"aud",
		"iat",
		"exp"
	]
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
    "aud": "tas-storefront",
    "prep": {
        "continuePage": "https://storefront.com/apps/zwango",
        "patchSet": [
            {
                "op": "test",
                "path": "status.incarnation",
                "value": 23
            },
            {
                "op": "add",
                "path": "installs",
                "value": {
                    "app": "hrsoft-zwango"
                }
            }
        ]
    },
    "iat": "some time",
    "exp": "some time"
}</code></pre></div><div class=tab-pane id=_tenants__tenant__patchSetLaunches_post_response><h2>HTTP status code <a href=http://httpstatus.es/200 target=_blank>200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
	"$schema":"http://json-schema.org/draft-04/schema#",
	"type":"object",
	"additionalProperties":false,
	"properties":{
		"launchKey": { "type": "integer", "description": "an unguessable key used to get information about a previously launched patchSet"}
	},
	"required":[
		"launchKey"
	]
}
</code></pre><p><strong>Example</strong>:</p><pre><code>{
	"launchKey": 40864894563934
}</code></pre></div></div></div></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__tenants__tenant__patchSetLaunches__launchKey_><span class=parent>/tenants/{tenant}/patchSetLaunches</span>/{launchKey}</a> <span class=methods><a href=# data-toggle=modal data-target=#_tenants__tenant__patchSetLaunches__launchKey__get><span class="badge badge_get">get</span></a></span></h4></div><div id=panel__tenants__tenant__patchSetLaunches__launchKey_ class="panel-collapse collapse"><div class=panel-body><div class=list-group><div data-toggle=modal data-target=#_tenants__tenant__patchSetLaunches__launchKey__get class=list-group-item><span class="badge badge_get">get</span><div class=method_description><p>Get the latest events and the current summary details about a previous launch of a patch set.</p><p>If the apply is already "complete" then this call will return immediately, with any events that match the filter, up to the maximum events per call (100).</p><p>Otherwise, the call blocks for .5 seconds to avoid thrashing, then returns as soon as at least one event is available that matches the filter, or the apply becomes complete (which would always be accompanied by an event). If no events are available after 60 seconds, the call returns indicating a timeout - the client will typically immediately make another call in a typical long-polling pattern, until the apply is marked as complete and the last event has been fetched.</p></div><div class=clearfix></div></div></div></div></div><div class="modal fade" tabindex=0 id=_tenants__tenant__patchSetLaunches__launchKey__get><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_get">get</span> <span class=parent>/tenants/{tenant}/patchSetLaunches</span>/{launchKey}</h4></div><div class=modal-body><div class="alert alert-info"><p>Get the latest events and the current summary details about a previous launch of a patch set.</p><p>If the apply is already "complete" then this call will return immediately, with any events that match the filter, up to the maximum events per call (100).</p><p>Otherwise, the call blocks for .5 seconds to avoid thrashing, then returns as soon as at least one event is available that matches the filter, or the apply becomes complete (which would always be accompanied by an event). If no events are available after 60 seconds, the call returns indicating a timeout - the client will typically immediately make another call in a typical long-polling pattern, until the apply is marked as complete and the last event has been fetched.</p></div><ul class="nav nav-tabs"><li class=active><a href=#_tenants__tenant__patchSetLaunches__launchKey__get_request data-toggle=tab>Request</a></li><li><a href=#_tenants__tenant__patchSetLaunches__launchKey__get_response data-toggle=tab>Response</a></li></ul><div class=tab-content><div class="tab-pane active" id=_tenants__tenant__patchSetLaunches__launchKey__get_request><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string)</em></li><li><strong>launchKey</strong>: <em>required (string)</em></li></ul><h3>Query Parameters</h3><ul><li><strong>After Event</strong>: <em>(integer)</em><p>The sequence of an existing event - this call should return events immediately <em>after</em> this event. Omitting this parameter returns the first events.</p><p><strong>Example</strong>:</p><pre><code>12</code></pre></li></ul></div><div class=tab-pane id=_tenants__tenant__patchSetLaunches__launchKey__get_response><h2>HTTP status code <a href=http://httpstatus.es/200 target=_blank>200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "definitions": {
        "app": {
            "type": "string"
        },
        "elapsedTime": {
            "description": "elapsed time of the operation in milliseconds",
            "type": "integer"
        },
        "patchSetApplyStart": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "patchSetApplyStart"
                    ]
                }
            }
        },
        "tenantDownStart": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "tenantDownStart"
                    ]
                }
            }
        },
        "appDownRequest": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind",
                "app"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "appDownStart"
                    ]
                },
                "app": {
                    "$ref": "#/definitions/app"
                }
            }
        },
        "appDownComplete": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind",
                "app"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "appDownComplete"
                    ]
                },
                "app": {
                    "$ref": "#/definitions/app"
                }
            }
        },
        "tenantDownComplete": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind",
                "elapsedTime"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "tenantDownComplete"
                    ]
                },
                "elapsedTime": {
                    "$ref": "#/definitions/elapsedTime"
                }
            }
        },
        "appPatchesApplyStart": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "appPatchesApplyStart"
                    ]
                }
            }
        },
        "appInstallComplete": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind",
                "app"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "appInstallComplete"
                    ]
                },
                "app": {
                    "$ref": "#/definitions/app"
                }
            }
        },
        "appEditComplete": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind",
                "app"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "appEditComplete"
                    ]
                },
                "app": {
                    "$ref": "#/definitions/app"
                }
            }
        },
        "appUnInstallComplete": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind",
                "app"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "appUnInstallComplete"
                    ]
                },
                "app": {
                    "$ref": "#/definitions/app"
                }
            }
        },
        "appPatchesApplyComplete": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind",
                "elapsedTime"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "appPatchesApplyComplete"
                    ]
                },
                "elapsedTime": {
                    "$ref": "#/definitions/elapsedTime"
                }
            }
        },
        "tenantUpStart": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "tenantUpStart"
                    ]
                }
            }
        },
        "appUpStart": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind",
                "app"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "appUpStart"
                    ]
                },
                "app": {
                    "$ref": "#/definitions/app"
                }
            }
        },
        "appUpComplete": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind",
                "app"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "appUpComplete"
                    ]
                },
                "app": {
                    "$ref": "#/definitions/app"
                }
            }
        },
        "tenantUpComplete": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind",
                "elapsedTime"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "tenantUpComplete"
                    ]
                },
                "elapsedTime": {
                    "$ref": "#/definitions/elapsedTime"
                }
            }
        },
        "patchSetApplyComplete": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "kind",
                "elapsedTime",
                "newIncarnation"
            ],
            "properties": {
                "kind": {
                    "enum": [
                        "patchSetApplyComplete"
                    ]
                },
                "elapsedTime": {
                    "$ref": "#/definitions/elapsedTime"
                },
                "newIncarnation": {
                    "type": "integer"
                }
            }
        },
        "orderedEvent": {
            "type": "object",
            "properties": {
                "seq": {
                    "type": "integer"
                },
                "event": {
                    "oneOf": [
                        {
                            "$ref": "#/definitions/patchSetApplyStart"
                        },
                        {
                            "$ref": "#/definitions/tenantDownStart"
                        },
                        {
                            "$ref": "#/definitions/appDownRequest"
                        },
                        {
                            "$ref": "#/definitions/appDownComplete"
                        },
                        {
                            "$ref": "#/definitions/tenantDownComplete"
                        },
                        {
                            "$ref": "#/definitions/appPatchesApplyStart"
                        },
                        {
                            "$ref": "#/definitions/appInstallComplete"
                        },
                        {
                            "$ref": "#/definitions/appEditComplete"
                        },
                        {
                            "$ref": "#/definitions/appUnInstallComplete"
                        },
                        {
                            "$ref": "#/definitions/appPatchesApplyComplete"
                        },
                        {
                            "$ref": "#/definitions/tenantUpStart"
                        },
                        {
                            "$ref": "#/definitions/appUpStart"
                        },
                        {
                            "$ref": "#/definitions/appUpComplete"
                        },
                        {
                            "$ref": "#/definitions/tenantUpComplete"
                        },
                        {
                            "$ref": "#/definitions/patchSetApplyComplete"
                        }
                    ]
                }
            }
        }
    },
    "type": "object",
    "additionalProperties": false,
    "required": [
        "kind",
        "applyStatus"
    ],
    "properties": {
        "kind": {
            "enum": [
                "patchSetStatus"
            ]
        },
        "applyStatus": {
            "enum": [
                "notLaunched",
                "inProcess",
                "complete",
                "broken"
            ]
        },
        "latestEvent": {
            "type": "integer"
        },
       "continuePage": { "type": "string", "description": "the URI that the browser should redirect the user to once this patch set is complete, possibly at a new storefront if the patch set swapped out the current one" },
        "events": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/orderedEvent"
            }
        }
    }
}</code></pre><p><strong>Example</strong>:</p><pre><code>{
  "kind": "patchSetStatus",
  "applyStatus": "complete",
  "latestEvent": 28,
  "events": [
    {"seq": 0, "event": {"kind": "patchSetApplyStart"}},
    {"seq": 1, "event": { "kind": "tenantDownStart"}},
    {"seq": 2, "event": { "kind": "appDownStart", "app": "tas-zoom"}},
    {"seq": 3, "event": { "kind": "appDownStart", "app": "hrlabs-fratly"}},
    {"seq": 4, "event": { "kind": "appDownComplete", "app": "tas-zoom"}},
    {"seq": 5, "event": { "kind": "appDownStart", "app": "tas-uberapply"}},
    {"seq": 6, "event": { "kind": "appDownComplete", "app": "tas-uberapply"}},
    {"seq": 7, "event": { "kind": "appDownComplete", "app": "hrlabs-fratly"}},
    {"seq": 8, "event": { "kind": "appDownComplete", "app": "tas-dummyjobs"}},
    {"seq": 9, "event": { "kind": "tenantDownComplete", "elapsedTime": 2033}},
    {"seq": 10, "event": { "kind": "appPatchesApplyStart"}},
    {"seq": 11, "event": { "kind": "appInstallComplete", "app": "tas-tracker"}},
    {"seq": 12, "event": { "kind": "appInstallComplete", "app": "supersoft-refly"}},
    {"seq": 13, "event": { "kind": "appEditComplete", "app": "tas-zoom"}},
    {"seq": 14, "event": { "kind": "appUnInstallComplete", "app": "tas-dummyjobs"}},
    {"seq": 15, "event": { "kind": "appPatchesApplyComplete", "elapsedTime": 3122}},
    {"seq": 16, "event": { "kind": "tenantUpStart"}},
    {"seq": 17, "event": { "kind": "appUpStart", "app": "tas-zoom"}},
    {"seq": 18, "event": { "kind": "appUpStart", "app": "hrlabs-fratly"}},
    {"seq": 19, "event": { "kind": "appUpComplete", "app": "tas-zoom"}},
    {"seq": 10, "event": { "kind": "appUpComplete", "app": "hrlabs-fratly"}},
    {"seq": 21, "event": { "kind": "appUpStart", "app": "tas-uberapply"}},
    {"seq": 22, "event": { "kind": "appUpComplete", "app": "tas-uberapply"}},
    {"seq": 23, "event": { "kind": "appUpStart", "app": "supersoft-refly"}},
    {"seq": 24, "event": { "kind": "appUpComplete", "app": "supersoft-refly"}},
    {"seq": 25, "event": { "kind": "appUpStart", "app": "tas-tracker"}},
    {"seq": 26, "event": { "kind": "appUpComplete", "app": "tas-tracker"}},
    {"seq": 27, "event": { "kind": "tenantUpComplete", "elapsedTime": 533}},
    {"seq": 28, "event": { "kind": "patchSetApplyComplete", "elapsedTime": 9603, "newIncarnation": 146}}
  ]
}
</code></pre></div></div></div></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__tenants__tenant__installs><span class=parent>/tenants/{tenant}</span>/installs</a> <span class=methods></span></h4></div><div id=panel__tenants__tenant__installs class="panel-collapse collapse"><div class=panel-body><div class=resource-description><p>Installs are currently installed apps at the tenant.</p></div><div class=list-group></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__tenants__tenant__installs__app_><span class=parent>/tenants/{tenant}/installs</span>/{app}</a> <span class=methods></span></h4></div><div id=panel__tenants__tenant__installs__app_ class="panel-collapse collapse"><div class=panel-body><div class=resource-description><p>An app</p></div><div class=list-group></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__tenants__tenant__installs__app__status><span class=parent>/tenants/{tenant}/installs/{app}</span>/status</a> <span class=methods><a href=# data-toggle=modal data-target=#_tenants__tenant__installs__app__status_get><span class="badge badge_get">get</span></a></span></h4></div><div id=panel__tenants__tenant__installs__app__status class="panel-collapse collapse"><div class=panel-body><div class=list-group><div data-toggle=modal data-target=#_tenants__tenant__installs__app__status_get class=list-group-item><span class="badge badge_get">get</span><div class=method_description><p>Called by apps to get the install key, so as to validate incoming OAuth tokens. Apps can only call this on themselves.</p></div><div class=clearfix></div></div></div></div></div><div class="modal fade" tabindex=0 id=_tenants__tenant__installs__app__status_get><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_get">get</span> <span class=parent>/tenants/{tenant}/installs/{app}</span>/status</h4></div><div class=modal-body><div class="alert alert-info"><p>Called by apps to get the install key, so as to validate incoming OAuth tokens. Apps can only call this on themselves.</p></div><ul class="nav nav-tabs"><li class=active><a href=#_tenants__tenant__installs__app__status_get_request data-toggle=tab>Request</a></li><li><a href=#_tenants__tenant__installs__app__status_get_response data-toggle=tab>Response</a></li></ul><div class=tab-content><div class="tab-pane active" id=_tenants__tenant__installs__app__status_get_request><h3>URI Parameters</h3><ul><li><strong>tenant</strong>: <em>required (string)</em></li><li><strong>app</strong>: <em>required (string)</em></li></ul></div><div class=tab-pane id=_tenants__tenant__installs__app__status_get_response><h2>HTTP status code <a href=http://httpstatus.es/200 target=_blank>200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><strong>Schema</strong>:</p><pre><code>{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "additionalProperties": false,
    "properties": {
        "state": {
            "enum": [
                "starting",
                "running",
                "halting",
                "stopped",
                "broken"
            ],
            "description": "The installed app&#x27;s current status."
        },
        "publicKey": {
            "type": "string",
            "description": "The public key of the install key pair. OAuth API producers use this to verify incoming OAuth access tokens, which are signed using the consumer&#x27;s private key. The private key only accessible to TAS itself and is never made available to anyone."
        }
    }
}</code></pre><p><strong>Example</strong>:</p><pre><code>{ "state": "running",  "publicKey": "jklh875glihfu4f868h" }
</code></pre></div></div></div></div></div></div></div></div></div></div></div><div class=col-md-3><div id=sidebar class="hidden-print affix" role=complementary><ul class="nav nav-pills nav-stacked"><li><a href=#_tenants>/tenants</a></li></ul></div></div></div></div></body></html>