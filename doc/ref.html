<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<!-- always required -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

<!-- needed for sequence diagrams -->
<script type="text/javascript" src='http://talentappstore.github.io/tas-des-static/js/raphael-min.js'></script>
<script type="text/javascript" src='http://talentappstore.github.io/tas-des-static/js/underscore-min.js'></script>
<script type="text/javascript" src='http://talentappstore.github.io/tas-des-static/js/sequence-diagram-min.js'></script>
<script type="text/javascript" src='http://talentappstore.github.io/tas-des-static/js/sequence-diagram-wrapper.js'></script>

<!-- needed for includes -->
<script type="text/javascript" src='http://talentappstore.github.io/tas-des-static/js/clientInclude.js'></script>

<!-- needed for table of contents -->
<script type="text/javascript" src='http://talentappstore.github.io/tas-des-static/js/tocify.js'></script>

<link rel="stylesheet" href="//normalize-css.googlecode.com/svn/trunk/normalize.css" />

<!-- always required -->
<link rel='stylesheet' href='http://talentappstore.github.io/tas-des-static/css/des.css' type='text/css' media='all' />

<title>Talent App Store app developer guide</title>
</head>
<body>


<h1>Talent App Store app developer guide</h1>

<p>See us on <a href='https://github.com/talentappstore/tas-core-apis'>Github</a>.
</p>

<p>We love feedback. Please get in touch at abraae@aotal.com.</p> 


<h2>Architecture</h2>


<p>
<b>Core vs. tenant APIs in Talent App Store</b>
<div class='seqDiag' id="apitypes">
participant TAS
participant ATS app
participant Career site app
participant Social sharing app
TAS->ATS app: outwards core API, e.g. stop tenant, start tenant,\nadd tenant, delete tenant
TAS->Career site app:
TAS->Social sharing app:
ATS app->TAS: inwards core API, e.g. locate API endpoint,\nobtain access token, signal shutdown complete
Career site app->TAS:
Social sharing app->TAS:
Career site app->ATS app:tenant API call, e.g. GET /openJobs
Social sharing app->ATS app:tenant API call, e.g. GET /openJobs/{id}
</div>














  






<h2>SAML assertion and auto-provisioning</h2>

<p>Auto-provisioning refers to creating users "on the fly", i.e. at the time when they first log in to the app.
</p>

<p>To decide whether, and how, to auto-provisioning a new logging in user, an app may look at the
well known attributes in the SAML assertion, such as email or roles.</p>

<p>It is possible for an app to be both auto-provisioning and also an assertionDecorator.</p>

<p>In a situation where an assertionDecorator app is asked to decorate the assertion for a user that does not exist in the app, but would due
to auto-provisioning were they to log in to the app, then the app should normally decorate the assertion just as if the user had been
auto-provisioned.</p>

<p>This sort of situation would arise, for example with a legacy ATS app designed to auto-provision new users and grant them access to a
separate candidate search app. In this case, if the user logs in to the search app first, having never visisted the legacy ATS app, then
the legacy ATS app (acting as an assertionDecorator) should inject roles (possibly including the right to access the search app)
as if the user had instead logged into the ATS first and therefore been auto-provisioned and gained the default permissions.</p>
 

<h1>Portfolio apps</h1>

<p>TAS apps operate, and call each other via tenant APIs, solely within the context of a tenant.
For example, it is not possible for (and TAS will not issue or validate tokens for) a consuming app
running on behalf of one tenant to make a API call to a producing app running on behalf of another tenant.</p>

<p>However some apps may also want to present a public face, not associated with any specific tenant.</p>

<p>For example, a job board (say, for plumbers) may present a public web site (www.plumberjobs.com) where candidates can register and profile themselves. In this situation, a candidate should be able:
<ol>
<li>authenticate (e.g. via Google) and profile themselves at www.plumberjobs.com
<li>at a later date, authenticate via the same Google account and apply for a plumbing job at a tenant, and access the information from their previously set up profile.
</ol>

<p>This can be achieved via a setup like the following:

<ol>
<li>www.plumberjobs.com is implemented as an (unlisted) app intended to be used only once, to power the www.plumberjobs.com website
<li>The app is linked to the &lt;tas&gt; candidate principal type, and therefore can therefore protect its own pages via the TAS SSO system
<li>The developer creates a tenant
<li>The tenant installs the app
<li>The tenant links the &lt;tas&gt; candidate principal type to common/global identity sources (e.g. Google, Facebook, LinkedIn)
<li>The site is now live, and can start capturing plumbers, who protect their details using their preferred login mechanism (e.g. Facebook)
<li>The developer now creates a second (listed) app, "plumbersbackend"
<li>That app implements the well-known non-SoT API /m/candidates/{}
<li>[complete..]      
</ol>


<script>
$(document).ready(function() {

	renderSequenceDiagrams();
	renderClientIncludes();
	renderTOC();
});
</script>


</body>
</html>